const _0x1b67b7=_0x405f;(function(_0x330df1,_0x5e0083){const _0x375899=_0x405f,_0x5af726=_0x330df1();while(!![]){try{const _0x334f21=parseInt(_0x375899(0x1d2))/0x1+-parseInt(_0x375899(0x18b))/0x2+-parseInt(_0x375899(0x2ce))/0x3+parseInt(_0x375899(0x216))/0x4+-parseInt(_0x375899(0x389))/0x5+-parseInt(_0x375899(0x2b2))/0x6*(-parseInt(_0x375899(0x261))/0x7)+-parseInt(_0x375899(0x220))/0x8*(-parseInt(_0x375899(0x24f))/0x9);if(_0x334f21===_0x5e0083)break;else _0x5af726['push'](_0x5af726['shift']());}catch(_0x5e28b5){_0x5af726['push'](_0x5af726['shift']());}}}(_0x3f36,0x97a60),mapboxgl[_0x1b67b7(0x15c)]=_0x1b67b7(0x3b8));const SUPABASE_CONFIG={'url':_0x1b67b7(0x14e),'key':_0x1b67b7(0x1e6)},MAP_CONFIG={'center':[-67.155515,-17.800187],'zoom':0xc,'style':_0x1b67b7(0x1b6),'pitch':0x0,'bearing':0x0},URB_NOMBRES={'1':'10\x20DE\x20FEBRERO','2':'LA\x20RIOJA','3':_0x1b67b7(0x181),'4':_0x1b67b7(0x2a7),'5':'AGUAS\x20CALIENTES','6':_0x1b67b7(0x39f),'7':'AGUAS\x20CALIENTES','8':'PLAYA\x20VERDE'},USUARIOS_AUTORIZADOS={'admin':{'password':_0x1b67b7(0x19e),'tipo':'administrador'},'blanca.choque':{'password':'Red_1','tipo':_0x1b67b7(0x1db)},'olga.cahuana':{'password':_0x1b67b7(0x1f1),'tipo':_0x1b67b7(0x1db)}},USUARIOS_SECUNDARIOS={'usuario1':{'password':'usuario1','tipo':_0x1b67b7(0x1dd)},'jessica.pamela':{'password':_0x1b67b7(0x2c6),'tipo':'secundario'}},ZOOM_LEVELS={'lotes':{'minzoom':0xe,'maxzoom':0x16},'manzanos':{'minzoom':0xc,'maxzoom':0x16},'vias':{'minzoom':0xd,'maxzoom':0x16},'cotas':{'minzoom':0xf,'maxzoom':0x16},'praderas':{'minzoom':0xd,'maxzoom':0x16},'equipamiento':{'minzoom':0xd,'maxzoom':0x16},'rutas':{'minzoom':0x7,'maxzoom':0x16},'centros':{'minzoom':0x0,'maxzoom':0x16},'veredas':{'minzoom':0xf,'maxzoom':0x16},'fotos':{'minzoom':0x0,'maxzoom':0x16},'labels':{'lotes':{'minzoom':0x10,'maxzoom':0x16},'manzanos':{'minzoom':0xe,'maxzoom':0x16},'vias':{'minzoom':0xd,'maxzoom':0x16},'cotas':{'minzoom':0x10,'maxzoom':0x16},'praderas':{'minzoom':0xf,'maxzoom':0x16},'equipamiento':{'minzoom':0xf,'maxzoom':0x16},'centros':{'minzoom':0x0,'maxzoom':0x16}}},COLOR_PALETTE={'lotes':{'vendido':_0x1b67b7(0x383),'disponible':_0x1b67b7(0x244),'reservado':_0x1b67b7(0x276),'default':'#0000ff','opacity':0.3,'borderColor':_0x1b67b7(0x231),'borderWidth':0.7,'hoverOpacity':0.7},'manzanos':{'fillColor':_0x1b67b7(0x222),'fillOpacity':0.02,'lineColor':_0x1b67b7(0x222),'lineWidth':0x1,'lineOpacity':0.3},'vias':{'lineColor':'#ff0202','lineWidth':0x14,'lineOpacity':0.15},'cotas':{'lineColor':_0x1b67b7(0x231),'lineWidth':0x1,'lineOpacity':0.1},'praderas':{'fillColor':_0x1b67b7(0x188),'fillOpacity':0.5,'lineColor':_0x1b67b7(0x231),'lineWidth':0x1,'lineOpacity':0x1},'equipamiento':{'fillColor':_0x1b67b7(0x222),'fillOpacity':0.35,'lineColor':_0x1b67b7(0x231),'lineWidth':0x1,'lineOpacity':0x1},'rutas':{'lineColor':_0x1b67b7(0x2c8),'lineWidth':0x14,'lineOpacity':0.15},'veredas':{'fillColor':_0x1b67b7(0x1f6),'fillOpacity':0.1,'lineColor':_0x1b67b7(0x231),'lineWidth':1.5,'lineOpacity':0.9},'fotos':{'iconSize':0.8,'iconColor':_0x1b67b7(0x1c7)},'labels':{'lotes':{'textColor':'#000000','haloColor':_0x1b67b7(0x14f),'haloWidth':0x2,'textSize':0xc},'manzanos':{'textColor':'#ffffff','haloColor':_0x1b67b7(0x231),'haloWidth':0x2,'textSize':0xd},'vias':{'textColor':_0x1b67b7(0x231),'haloColor':'#ffffff','haloWidth':0x2,'textSize':0xa},'cotas':{'textColor':_0x1b67b7(0x20c),'haloColor':'#ffffff','haloWidth':0x2,'textSize':0xa},'praderas':{'textColor':_0x1b67b7(0x1be),'haloColor':_0x1b67b7(0x14f),'haloWidth':0x2,'textSize':0xb},'equipamiento':{'textColor':_0x1b67b7(0x1c4),'haloColor':'#ffffff','haloWidth':0x2,'textSize':0xb},'centros':{'textColor':_0x1b67b7(0x1c7),'haloColor':_0x1b67b7(0x14f),'haloWidth':0x2,'textSize':0xc}}},CENTRO_ICONS={'centro':_0x1b67b7(0x214),'oficina':_0x1b67b7(0x14a),'transporte':'fas\x20fa-bus','default':_0x1b67b7(0x385)},ESTADOS_DISPONIBLES=[_0x1b67b7(0x1c5),_0x1b67b7(0x23b),_0x1b67b7(0x25e)],ESTADO_COLORS={'VENDIDO':COLOR_PALETTE[_0x1b67b7(0x272)]['vendido'],'DISPONIBLE':COLOR_PALETTE[_0x1b67b7(0x272)][_0x1b67b7(0x3b9)],'RESERVADO':COLOR_PALETTE['lotes'][_0x1b67b7(0x2cc)],'default':COLOR_PALETTE['lotes'][_0x1b67b7(0x19d)]};let map,draw,urbData={},currentPopup=null,currentFeatureId=null,currentUrb=null,idFieldName=_0x1b67b7(0x342),currentBaseLayer=_0x1b67b7(0x398),hoveredStateId=null,currentLoteData=null,rutasData=null,centrosData=null,fotosData=null,pendingEstadoChange=null,isUserLoggedIn=![],currentUsername=null,currentUserType=null;const {createClient}=supabase,supabaseClient=createClient(SUPABASE_CONFIG[_0x1b67b7(0x361)],SUPABASE_CONFIG['key']);function guardarEstadoMapa(){const _0x267bf2=_0x1b67b7;if(!map)return;const _0x2b5d3e={'center':map[_0x267bf2(0x3aa)](),'zoom':map[_0x267bf2(0x1e5)](),'pitch':map['getPitch'](),'bearing':map[_0x267bf2(0x2b7)](),'baseLayer':currentBaseLayer,'timestamp':Date['now']()};try{localStorage['setItem'](_0x267bf2(0x30d),JSON[_0x267bf2(0x16d)](_0x2b5d3e));}catch(_0x35819d){console['warn'](_0x267bf2(0x21b),_0x35819d);}}function restaurarEstadoMapa(){const _0x6c0798=_0x1b67b7;try{const _0x3a469d=localStorage[_0x6c0798(0x29e)](_0x6c0798(0x30d));if(!_0x3a469d)return![];const _0x3ce03c=JSON['parse'](_0x3a469d),_0x174500=Date[_0x6c0798(0x133)]()-_0x3ce03c[_0x6c0798(0x319)];if(_0x174500>0x36ee80)return localStorage[_0x6c0798(0x1fb)]('geoportal_map_state'),![];return map&&_0x3ce03c[_0x6c0798(0x247)]&&_0x3ce03c[_0x6c0798(0x20b)]&&(map[_0x6c0798(0x326)](_0x3ce03c['center']),map[_0x6c0798(0x217)](_0x3ce03c[_0x6c0798(0x20b)]),map['setPitch'](_0x3ce03c[_0x6c0798(0x382)]||0x0),map[_0x6c0798(0x22b)](_0x3ce03c[_0x6c0798(0x233)]||0x0),_0x3ce03c['baseLayer']&&_0x3ce03c['baseLayer']!==_0x6c0798(0x398)&&setTimeout(()=>{const _0x3f732a=_0x6c0798,_0x3311e6=document[_0x3f732a(0x19b)](_0x3ce03c[_0x3f732a(0x352)]===_0x3f732a(0x32d)?_0x3f732a(0x32d):_0x3ce03c['baseLayer']===_0x3f732a(0x2b4)?'satellite-3d':_0x3ce03c[_0x3f732a(0x352)]===_0x3f732a(0x155)?_0x3f732a(0x155):_0x3f732a(0x1a8));if(_0x3311e6)_0x3311e6[_0x3f732a(0x31e)]();},0x3e8)),!![];}catch(_0x38e1bb){return console['warn'](_0x6c0798(0x1c6),_0x38e1bb),![];}}document[_0x1b67b7(0x1ee)]('visibilitychange',()=>{const _0x317a1d=_0x1b67b7;document[_0x317a1d(0x23c)]&&guardarEstadoMapa();}),window[_0x1b67b7(0x1ee)](_0x1b67b7(0x303),()=>{guardarEstadoMapa();}),setInterval(()=>{const _0xb2d0e4=_0x1b67b7;!document[_0xb2d0e4(0x23c)]&&guardarEstadoMapa();},0x7530);_0x1b67b7(0x289)in navigator&&window[_0x1b67b7(0x1ee)](_0x1b67b7(0x2d6),()=>{setInterval(()=>{const _0x31be4a=_0x405f;navigator[_0x31be4a(0x173)]&&fetch(window[_0x31be4a(0x3bf)][_0x31be4a(0x192)],{'method':_0x31be4a(0x2b1),'cache':_0x31be4a(0x305)})[_0x31be4a(0x347)](()=>{});},0xea60);});function checkStoredSession(){const _0x122aea=_0x1b67b7,_0x51b88c=localStorage['getItem'](_0x122aea(0x25d)),_0x45c6bd=localStorage[_0x122aea(0x29e)]('geoportal_user_type');_0x51b88c&&_0x45c6bd&&(currentUsername=_0x51b88c,currentUserType=_0x45c6bd,isUserLoggedIn=!![],updateUIForLoggedInUser());}function updateUIForLoggedInUser(){const _0x334406=_0x1b67b7,_0x909885=document[_0x334406(0x19b)](_0x334406(0x377));_0x909885[_0x334406(0x260)]['add']('user-logged'),_0x909885[_0x334406(0x1ce)]=_0x334406(0x34c)+currentUsername;}function updateUIForLoggedOutUser(){const _0x3e3793=_0x1b67b7,_0x3ad915=document[_0x3e3793(0x19b)]('user-btn');_0x3ad915[_0x3e3793(0x260)]['remove'](_0x3e3793(0x27d)),_0x3ad915[_0x3e3793(0x1ce)]='Usuario';}function loginUser(_0x1ccab0,_0x5951a9){const _0x603cb=_0x1b67b7;if(USUARIOS_AUTORIZADOS[_0x1ccab0]&&USUARIOS_AUTORIZADOS[_0x1ccab0]['password']===_0x5951a9)return isUserLoggedIn=!![],currentUsername=_0x1ccab0,currentUserType='administrador',localStorage[_0x603cb(0x1ba)](_0x603cb(0x25d),_0x1ccab0),localStorage[_0x603cb(0x1ba)](_0x603cb(0x2b9),_0x603cb(0x1db)),updateUIForLoggedInUser(),!![];if(USUARIOS_SECUNDARIOS[_0x1ccab0]&&USUARIOS_SECUNDARIOS[_0x1ccab0]['password']===_0x5951a9)return isUserLoggedIn=!![],currentUsername=_0x1ccab0,currentUserType='secundario',localStorage[_0x603cb(0x1ba)](_0x603cb(0x25d),_0x1ccab0),localStorage[_0x603cb(0x1ba)]('geoportal_user_type',_0x603cb(0x1dd)),updateUIForLoggedInUser(),!![];return![];}function logoutUser(){const _0x4e44fb=_0x1b67b7;isUserLoggedIn=![],currentUsername=null,currentUserType=null,localStorage[_0x4e44fb(0x1fb)](_0x4e44fb(0x25d)),localStorage['removeItem'](_0x4e44fb(0x2b9)),updateUIForLoggedOutUser(),currentPopup&&currentPopup[_0x4e44fb(0x2bd)]();}function canAccessRestrictedFeatures(){return isUserLoggedIn;}map=new mapboxgl[(_0x1b67b7(0x3b5))]({'container':_0x1b67b7(0x356),'style':MAP_CONFIG[_0x1b67b7(0x28d)],'center':MAP_CONFIG['center'],'zoom':MAP_CONFIG[_0x1b67b7(0x20b)],'pitch':MAP_CONFIG['pitch'],'bearing':MAP_CONFIG['bearing'],'preserveDrawingBuffer':!![],'refreshExpiredTiles':![],'antialias':!![]}),map[_0x1b67b7(0x169)](new mapboxgl[(_0x1b67b7(0x31b))](),_0x1b67b7(0x1ec)),map[_0x1b67b7(0x169)](new mapboxgl[(_0x1b67b7(0x297))](),_0x1b67b7(0x263)),map[_0x1b67b7(0x169)](new mapboxgl[(_0x1b67b7(0x28c))]({'positionOptions':{'enableHighAccuracy':!![]},'trackUserLocation':!![],'showUserHeading':!![]}),_0x1b67b7(0x1ec));const geocoder=new MapboxGeocoder({'accessToken':mapboxgl[_0x1b67b7(0x15c)],'mapboxgl':mapboxgl,'countries':'bo','placeholder':_0x1b67b7(0x1a2),'language':'es'});document[_0x1b67b7(0x19b)](_0x1b67b7(0x203))['appendChild'](geocoder[_0x1b67b7(0x2e7)](map)),draw=new MapboxDraw({'displayControlsDefault':![],'controls':{'line_string':!![],'trash':!![]}}),map['addControl'](draw,'top-right'),document[_0x1b67b7(0x19b)](_0x1b67b7(0x17e))[_0x1b67b7(0x1ee)](_0x1b67b7(0x31e),()=>{const _0x6b6aa8=_0x1b67b7,_0x1341c9=document['getElementById'](_0x6b6aa8(0x236)),_0x2897da=document[_0x6b6aa8(0x19b)](_0x6b6aa8(0x27a));if(_0x1341c9[_0x6b6aa8(0x260)][_0x6b6aa8(0x3c0)](_0x6b6aa8(0x175)))_0x1341c9[_0x6b6aa8(0x260)][_0x6b6aa8(0x2bd)](_0x6b6aa8(0x175));else{if(_0x2897da['classList'][_0x6b6aa8(0x3c0)](_0x6b6aa8(0x175)))_0x2897da['classList'][_0x6b6aa8(0x2bd)]('visible');_0x1341c9['classList']['add'](_0x6b6aa8(0x175));}}),document[_0x1b67b7(0x19b)](_0x1b67b7(0x301))[_0x1b67b7(0x1ee)](_0x1b67b7(0x31e),()=>{const _0x457267=_0x1b67b7;document['getElementById'](_0x457267(0x236))[_0x457267(0x260)]['remove'](_0x457267(0x175));});const infoModal=document[_0x1b67b7(0x19b)]('info-modal');document[_0x1b67b7(0x19b)](_0x1b67b7(0x184))['addEventListener'](_0x1b67b7(0x31e),()=>{const _0xb6f90c=_0x1b67b7;infoModal[_0xb6f90c(0x260)][_0xb6f90c(0x39d)](_0xb6f90c(0x1e9));}),document[_0x1b67b7(0x19b)](_0x1b67b7(0x271))[_0x1b67b7(0x1ee)](_0x1b67b7(0x31e),()=>{const _0x1ff442=_0x1b67b7;infoModal[_0x1ff442(0x260)][_0x1ff442(0x2bd)](_0x1ff442(0x1e9));}),infoModal[_0x1b67b7(0x1ee)]('click',_0x555c6f=>{const _0xc4e2d3=_0x1b67b7;if(_0x555c6f[_0xc4e2d3(0x334)]===infoModal)infoModal['classList'][_0xc4e2d3(0x2bd)](_0xc4e2d3(0x1e9));});const reporteModal=document[_0x1b67b7(0x19b)]('reporte-modal');document[_0x1b67b7(0x19b)](_0x1b67b7(0x312))[_0x1b67b7(0x1ee)](_0x1b67b7(0x31e),()=>{const _0x4862c2=_0x1b67b7;reporteModal['classList'][_0x4862c2(0x2bd)]('active');}),reporteModal[_0x1b67b7(0x1ee)](_0x1b67b7(0x31e),_0x1c0fc1=>{const _0xe57e93=_0x1b67b7;if(_0x1c0fc1[_0xe57e93(0x334)]===reporteModal)reporteModal[_0xe57e93(0x260)][_0xe57e93(0x2bd)](_0xe57e93(0x1e9));}),document[_0x1b67b7(0x19b)](_0x1b67b7(0x269))['addEventListener']('change',_0x3af338=>{const _0x31d7b6=_0x1b67b7,_0x2c4ec6=_0x3af338['target'][_0x31d7b6(0x31c)]?_0x31d7b6(0x175):_0x31d7b6(0x2dd);map[_0x31d7b6(0x1a1)](_0x31d7b6(0x357))&&map['setLayoutProperty'](_0x31d7b6(0x357),'visibility',_0x2c4ec6);}),document['getElementById'](_0x1b67b7(0x384))[_0x1b67b7(0x1ee)](_0x1b67b7(0x29c),_0x324d3f=>{const _0x27307c=_0x1b67b7,_0x15d019=_0x324d3f[_0x27307c(0x334)][_0x27307c(0x31c)]?_0x27307c(0x175):_0x27307c(0x2dd);map[_0x27307c(0x1a1)](_0x27307c(0x3a3))&&map[_0x27307c(0x194)](_0x27307c(0x3a3),_0x27307c(0x2ef),_0x15d019),map[_0x27307c(0x1a1)](_0x27307c(0x1b4))&&map[_0x27307c(0x194)](_0x27307c(0x1b4),_0x27307c(0x2ef),_0x15d019);}),document[_0x1b67b7(0x19b)](_0x1b67b7(0x39b))['addEventListener'](_0x1b67b7(0x29c),_0xc73e38=>{const _0x548e62=_0x1b67b7,_0x33206a=_0xc73e38['target'][_0x548e62(0x31c)]?_0x548e62(0x175):_0x548e62(0x2dd);Object[_0x548e62(0x2a1)](urbData)['forEach'](_0x3d905b=>{const _0x1af619=_0x548e62,_0x4e6d62='fotos-'+_0x3d905b+_0x1af619(0x36e);map['getLayer'](_0x4e6d62)&&map[_0x1af619(0x194)](_0x4e6d62,'visibility',_0x33206a);});});const userModal=document['getElementById'](_0x1b67b7(0x323)),loginFormContainer=document['getElementById'](_0x1b67b7(0x39a)),userInfoContainer=document[_0x1b67b7(0x19b)]('user-info-container'),modalTitle=document[_0x1b67b7(0x19b)]('modal-title');document[_0x1b67b7(0x19b)]('user-btn')[_0x1b67b7(0x1ee)]('click',()=>{const _0x9173c5=_0x1b67b7;if(isUserLoggedIn){modalTitle[_0x9173c5(0x177)]=_0x9173c5(0x27e),loginFormContainer[_0x9173c5(0x28d)][_0x9173c5(0x294)]=_0x9173c5(0x2dd);const _0x4e73ad=document[_0x9173c5(0x19b)]('access-level-text');_0x4e73ad&&(currentUserType===_0x9173c5(0x1db)?_0x4e73ad[_0x9173c5(0x177)]=_0x9173c5(0x2bb):_0x4e73ad[_0x9173c5(0x177)]=_0x9173c5(0x35b)),userInfoContainer['style'][_0x9173c5(0x294)]=_0x9173c5(0x246),document['getElementById'](_0x9173c5(0x159))['textContent']=currentUsername;}else modalTitle[_0x9173c5(0x177)]=_0x9173c5(0x2cd),loginFormContainer[_0x9173c5(0x28d)][_0x9173c5(0x294)]=_0x9173c5(0x246),userInfoContainer['style'][_0x9173c5(0x294)]=_0x9173c5(0x2dd),document[_0x9173c5(0x19b)]('login-error')[_0x9173c5(0x260)][_0x9173c5(0x2bd)](_0x9173c5(0x21d));userModal[_0x9173c5(0x260)]['add'](_0x9173c5(0x1e9));}),document[_0x1b67b7(0x19b)]('close-user-modal')['addEventListener'](_0x1b67b7(0x31e),()=>{const _0x38e72b=_0x1b67b7;userModal['classList'][_0x38e72b(0x2bd)](_0x38e72b(0x1e9)),document[_0x38e72b(0x19b)]('login-form')['reset'](),document['getElementById']('login-error')['classList'][_0x38e72b(0x2bd)](_0x38e72b(0x21d));}),userModal[_0x1b67b7(0x1ee)]('click',_0x589482=>{const _0x24136a=_0x1b67b7;_0x589482[_0x24136a(0x334)]===userModal&&(userModal[_0x24136a(0x260)][_0x24136a(0x2bd)](_0x24136a(0x1e9)),document[_0x24136a(0x19b)](_0x24136a(0x2e8))[_0x24136a(0x1b8)](),document[_0x24136a(0x19b)](_0x24136a(0x354))[_0x24136a(0x260)][_0x24136a(0x2bd)](_0x24136a(0x21d)));}),document[_0x1b67b7(0x19b)]('login-form')[_0x1b67b7(0x1ee)](_0x1b67b7(0x34e),_0x3c719f=>{const _0xdde3f8=_0x1b67b7;_0x3c719f[_0xdde3f8(0x2c3)]();const _0x539b1e=document[_0xdde3f8(0x19b)](_0xdde3f8(0x1c1))[_0xdde3f8(0x27c)][_0xdde3f8(0x284)](),_0x1e8b0e=document[_0xdde3f8(0x19b)](_0xdde3f8(0x3c4))[_0xdde3f8(0x27c)],_0x395a3c=document[_0xdde3f8(0x19b)](_0xdde3f8(0x354));loginUser(_0x539b1e,_0x1e8b0e)?(userModal['classList']['remove'](_0xdde3f8(0x1e9)),document[_0xdde3f8(0x19b)](_0xdde3f8(0x2e8))['reset'](),_0x395a3c['classList']['remove'](_0xdde3f8(0x21d)),alert(_0xdde3f8(0x2d9)+currentUsername+_0xdde3f8(0x362))):(_0x395a3c[_0xdde3f8(0x177)]='âŒ\x20Usuario\x20o\x20contraseÃ±a\x20incorrectos',_0x395a3c[_0xdde3f8(0x260)][_0xdde3f8(0x39d)](_0xdde3f8(0x21d)));}),document[_0x1b67b7(0x19b)](_0x1b67b7(0x1c3))['addEventListener'](_0x1b67b7(0x31e),()=>{const _0x1c6fc2=_0x1b67b7;confirm(_0x1c6fc2(0x186))&&(logoutUser(),userModal[_0x1c6fc2(0x260)][_0x1c6fc2(0x2bd)](_0x1c6fc2(0x1e9)),alert(_0x1c6fc2(0x1d3)));});const ventaModal=document[_0x1b67b7(0x19b)](_0x1b67b7(0x314));document[_0x1b67b7(0x19b)](_0x1b67b7(0x24b))['addEventListener']('click',()=>{const _0x30cc2e=_0x1b67b7;ventaModal[_0x30cc2e(0x260)]['remove'](_0x30cc2e(0x1e9)),pendingEstadoChange=null;}),ventaModal[_0x1b67b7(0x1ee)](_0x1b67b7(0x31e),_0x3b6ef4=>{const _0x53e287=_0x1b67b7;_0x3b6ef4[_0x53e287(0x334)]===ventaModal&&(ventaModal[_0x53e287(0x260)][_0x53e287(0x2bd)](_0x53e287(0x1e9)),pendingEstadoChange=null);}),document[_0x1b67b7(0x19b)](_0x1b67b7(0x2ba))[_0x1b67b7(0x1ee)](_0x1b67b7(0x31e),async function(){const _0x4e8a6e=_0x1b67b7;if(!pendingEstadoChange){alert(_0x4e8a6e(0x2c4));return;}ventaModal[_0x4e8a6e(0x260)][_0x4e8a6e(0x2bd)](_0x4e8a6e(0x1e9)),document[_0x4e8a6e(0x19b)]('venta-form')[_0x4e8a6e(0x1b8)](),await guardarEstadoSinDatos(pendingEstadoChange[_0x4e8a6e(0x1f0)],pendingEstadoChange[_0x4e8a6e(0x3b6)],pendingEstadoChange[_0x4e8a6e(0x300)]),pendingEstadoChange=null;});const excelModal=document['getElementById'](_0x1b67b7(0x277));document[_0x1b67b7(0x19b)](_0x1b67b7(0x245))[_0x1b67b7(0x1ee)](_0x1b67b7(0x31e),()=>{const _0x130f3a=_0x1b67b7;if(!canAccessRestrictedFeatures()){alert(_0x130f3a(0x241));return;}mostrarModalExcel();}),document[_0x1b67b7(0x19b)](_0x1b67b7(0x33d))[_0x1b67b7(0x1ee)](_0x1b67b7(0x31e),()=>{const _0x3ea32a=_0x1b67b7;excelModal[_0x3ea32a(0x260)]['remove'](_0x3ea32a(0x1e9));}),excelModal[_0x1b67b7(0x1ee)]('click',_0x51f4f8=>{const _0x4e0757=_0x1b67b7;if(_0x51f4f8[_0x4e0757(0x334)]===excelModal)excelModal[_0x4e0757(0x260)][_0x4e0757(0x2bd)](_0x4e0757(0x1e9));});function getColorByEstado(_0x2c7206){const _0x44330d=_0x1b67b7;return ESTADO_COLORS[_0x2c7206]||ESTADO_COLORS[_0x44330d(0x19d)];}function procesarUrlImagen(_0x2133aa){const _0x7f581=_0x1b67b7;if(!_0x2133aa)return console['error'](_0x7f581(0x252)),null;_0x2133aa=_0x2133aa[_0x7f581(0x284)](),console[_0x7f581(0x386)](_0x7f581(0x321),_0x2133aa);if(_0x2133aa['includes'](_0x7f581(0x348))){if(_0x2133aa[_0x7f581(0x368)](/\.(jpg|jpeg|png|gif|webp)$/i))return console[_0x7f581(0x386)](_0x7f581(0x2a0),_0x2133aa),_0x2133aa;if(_0x2133aa[_0x7f581(0x368)](/imgur\.com\/[a-zA-Z0-9]+$/)){const _0xe212e8=_0x2133aa+_0x7f581(0x22a);return console[_0x7f581(0x386)](_0x7f581(0x213),_0xe212e8),_0xe212e8;}if(_0x2133aa[_0x7f581(0x368)](/i\.imgur\.com\/[a-zA-Z0-9]+$/)){const _0x3f8444=_0x2133aa+_0x7f581(0x22a);return console[_0x7f581(0x386)]('âœ…\x20URL\x20de\x20Imgur\x20corregida:',_0x3f8444),_0x3f8444;}}return console['log'](_0x7f581(0x266),_0x2133aa),_0x2133aa;}function generarPopupFotos(_0x3c64a2){const _0xc1837b=_0x1b67b7,_0x5021c8=_0x3c64a2[_0xc1837b(0x24e)]||_0x3c64a2[_0xc1837b(0x187)]||_0x3c64a2[_0xc1837b(0x361)]||_0x3c64a2[_0xc1837b(0x37d)],_0x5d90a3=procesarUrlImagen(_0x5021c8),_0x5e6db9=_0x3c64a2[_0xc1837b(0x33b)]||_0x3c64a2[_0xc1837b(0x355)]||_0xc1837b(0x3ae),_0x3ab8a0=_0x3c64a2['descripcion']||_0x3c64a2[_0xc1837b(0x33a)]||'',_0x1685b9=Math['random']()[_0xc1837b(0x364)](0x24)[_0xc1837b(0x38b)](0x2,0x9);console[_0xc1837b(0x386)](_0xc1837b(0x380),{'nombre':_0x5e6db9,'urlOriginal':_0x5021c8,'fotoUrl':_0x5d90a3});let _0x1da3ce='<div\x20class=\x22photo-popup\x22>';return _0x5d90a3?_0x1da3ce+=_0xc1837b(0x2ec)+_0x1685b9+_0xc1837b(0x36c)+_0x1685b9+_0xc1837b(0x3a4)+_0x5d90a3+_0xc1837b(0x259)+_0x5e6db9+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22width:\x20100%;\x20height:\x20auto;\x20display:\x20none;\x20border-radius:\x208px;\x20cursor:\x20pointer;\x20transition:\x20transform\x200.2s\x20ease;\x20position:\x20relative;\x20z-index:\x202;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onload=\x22this.style.display=\x27block\x27;\x20document.getElementById(\x27photo-loading-'+_0x1685b9+_0xc1837b(0x2d3)+_0x1685b9+_0xc1837b(0x168)+_0x1685b9+_0xc1837b(0x32c)+_0x5d90a3+_0xc1837b(0x2af)+_0x5d90a3+'\x27,\x20\x27'+_0x5e6db9[_0xc1837b(0x1f8)](/'/g,'\x5c\x27')+_0xc1837b(0x3a2)+_0x1685b9+_0xc1837b(0x3b2)+_0x5d90a3+_0xc1837b(0x324)+_0x5e6db9['replace'](/'/g,'\x5c\x27')+_0xc1837b(0x298):_0x1da3ce+=_0xc1837b(0x1a6),_0x1da3ce+=_0xc1837b(0x1fa)+_0x5e6db9+_0xc1837b(0x154),_0x3ab8a0&&(_0x1da3ce+=_0xc1837b(0x152)+_0x3ab8a0+_0xc1837b(0x28b)),_0x1da3ce+=_0xc1837b(0x18c),_0x1da3ce;}window[_0x1b67b7(0x295)]=function(_0x36a42c,_0x276873){const _0x27c600=_0x1b67b7,_0x4fe27a=document[_0x27c600(0x3bb)]('div');_0x4fe27a[_0x27c600(0x28d)][_0x27c600(0x3ac)]=_0x27c600(0x1f3);const _0x4b20a8=document[_0x27c600(0x3bb)](_0x27c600(0x15a));_0x4b20a8[_0x27c600(0x1c2)]=_0x36a42c,_0x4b20a8[_0x27c600(0x204)]=_0x276873,_0x4b20a8[_0x27c600(0x28d)][_0x27c600(0x3ac)]=_0x27c600(0x390);const _0x468dd9=document['createElement'](_0x27c600(0x315));_0x468dd9['textContent']=_0x276873,_0x468dd9[_0x27c600(0x28d)][_0x27c600(0x3ac)]=_0x27c600(0x240);const _0x67b634=document[_0x27c600(0x3bb)](_0x27c600(0x21f));_0x67b634['innerHTML']=_0x27c600(0x34f),_0x67b634[_0x27c600(0x28d)]['cssText']='position:\x20absolute;\x20top:\x2020px;\x20right:\x2020px;\x20background:\x20rgba(255,\x20255,\x20255,\x200.2);\x20color:\x20white;\x20border:\x202px\x20solid\x20white;\x20padding:\x2010px\x2020px;\x20border-radius:\x208px;\x20cursor:\x20pointer;\x20font-size:\x2014px;\x20font-weight:\x20600;\x20transition:\x20all\x200.3s\x20ease;\x20backdrop-filter:\x20blur(10px);',_0x67b634[_0x27c600(0x153)]=()=>{const _0x37d3c7=_0x27c600;_0x67b634[_0x37d3c7(0x28d)][_0x37d3c7(0x38f)]=_0x37d3c7(0x2a8),_0x67b634[_0x37d3c7(0x28d)]['transform']=_0x37d3c7(0x163);},_0x67b634[_0x27c600(0x2f9)]=()=>{const _0x1dcc38=_0x27c600;_0x67b634['style']['background']=_0x1dcc38(0x20e),_0x67b634[_0x1dcc38(0x28d)][_0x1dcc38(0x378)]=_0x1dcc38(0x32e);};const _0x5475bd=()=>{const _0xb18212=_0x27c600;_0x4fe27a['style']['animation']=_0xb18212(0x2dc),setTimeout(()=>{const _0x1c6631=_0xb18212;_0x4fe27a[_0x1c6631(0x1f4)]&&document['body'][_0x1c6631(0x26e)](_0x4fe27a);},0x12c);};_0x67b634['onclick']=_0x5475bd,_0x4fe27a[_0x27c600(0x226)]=_0x5b3d80=>{const _0xd58034=_0x27c600;if(_0x5b3d80[_0xd58034(0x334)]===_0x4fe27a)_0x5475bd();},_0x4b20a8['onclick']=_0x58d45a=>_0x58d45a[_0x27c600(0x34a)]();const _0x4565f7=document[_0x27c600(0x3bb)](_0x27c600(0x28d));_0x4565f7['textContent']=_0x27c600(0x2c5),document[_0x27c600(0x238)][_0x27c600(0x1cf)](_0x4565f7),_0x4fe27a[_0x27c600(0x1cf)](_0x67b634),_0x4fe27a[_0x27c600(0x1cf)](_0x4b20a8),_0x4fe27a['appendChild'](_0x468dd9),document[_0x27c600(0x1e7)][_0x27c600(0x1cf)](_0x4fe27a);};async function loadLayer(_0x3c9d16){const _0x580fc0=_0x1b67b7;try{console[_0x580fc0(0x386)]('ðŸ”¥\x20Cargando\x20tabla:\x20'+_0x3c9d16);let _0x2c359c=[],_0x3bb923=0x0;const _0x212861=0x3e8;let _0x5154b2=!![];while(_0x5154b2){const _0x373e34=await fetch(SUPABASE_CONFIG[_0x580fc0(0x361)]+_0x580fc0(0x185)+_0x3c9d16+'?select=*&limit='+_0x212861+'&offset='+_0x3bb923,{'headers':{'apikey':SUPABASE_CONFIG[_0x580fc0(0x32a)],'Authorization':_0x580fc0(0x282)+SUPABASE_CONFIG['key'],'Content-Type':_0x580fc0(0x268),'Prefer':_0x580fc0(0x15d)}});if(!_0x373e34['ok'])throw new Error('HTTP\x20error!\x20status:\x20'+_0x373e34['status']);const _0x13d26a=await _0x373e34[_0x580fc0(0x3ba)]();_0x2c359c=_0x2c359c[_0x580fc0(0x24a)](_0x13d26a),console[_0x580fc0(0x386)](_0x580fc0(0x3a6)+_0x3bb923+'-'+(_0x3bb923+_0x13d26a[_0x580fc0(0x36f)])+'\x20cargado\x20('+_0x2c359c[_0x580fc0(0x36f)]+_0x580fc0(0x157)),_0x13d26a['length']<_0x212861?_0x5154b2=![]:_0x3bb923+=_0x212861;}console['log']('âœ…\x20'+_0x3c9d16+_0x580fc0(0x26b)+_0x2c359c[_0x580fc0(0x36f)]+'\x20registros');if(_0x2c359c['length']>0x0){const _0x240149=_0x2c359c[0x0];if(_0x580fc0(0x342)in _0x240149)idFieldName='gid';else{if(_0x580fc0(0x3a0)in _0x240149)idFieldName='objectid';else{if('fid'in _0x240149)idFieldName=_0x580fc0(0x1ac);else{if('id'in _0x240149)idFieldName='id';}}}console[_0x580fc0(0x386)](_0x580fc0(0x208)+_0x3c9d16+':\x20'+idFieldName);}const _0xed6fa3=_0x2c359c[_0x580fc0(0x256)](_0x316d42=>_0x316d42['geom'])[_0x580fc0(0x356)](_0x158efb=>{const {geom:_0x470788,..._0x4c0b79}=_0x158efb;return{'type':'Feature','geometry':_0x470788,'properties':_0x4c0b79,'id':_0x158efb[idFieldName]};});return{'type':_0x580fc0(0x36b),'features':_0xed6fa3};}catch(_0x7ca70e){return console[_0x580fc0(0x274)]('âŒ\x20Error\x20cargando\x20'+_0x3c9d16+':',_0x7ca70e),{'type':_0x580fc0(0x36b),'features':[]};}}function groupByUrb(_0xde5620,_0xaf290){const _0x32c48d=_0x1b67b7;if(!_0xde5620||!_0xde5620['features'])return;_0xde5620[_0x32c48d(0x190)][_0x32c48d(0x12b)](_0x2a58ee=>{const _0x135250=_0x32c48d,_0x347dc9=_0x2a58ee[_0x135250(0x397)][_0x135250(0x300)]||_0x2a58ee[_0x135250(0x397)][_0x135250(0x255)]||_0x135250(0x17c);!urbData[_0x347dc9]&&(urbData[_0x347dc9]={'lotes':[],'manzanos':[],'vias':[],'cotas':[],'praderas':[],'equipamiento':[],'veredas':[],'fotos':[]}),urbData[_0x347dc9][_0xaf290][_0x135250(0x280)](_0x2a58ee);});}function generarPopupContent(_0x42748d,_0x155807=![]){const _0x504a2d=_0x1b67b7,_0xba490d=getColorByEstado(_0x42748d['estado']),_0xfd6c4f=_0x42748d[idFieldName],_0x30795d=_0x42748d[_0x504a2d(0x2df)]||_0x504a2d(0x221),_0x1a5c6e=_0x42748d[_0x504a2d(0x1c0)]||_0x504a2d(0x221),_0x4b138b=_0x42748d['supm2']||_0x42748d[_0x504a2d(0x21e)]||_0x504a2d(0x221),_0x53b0fa=_0x42748d[_0x504a2d(0x2ae)]||_0x504a2d(0x221),_0x42bec7=canAccessRestrictedFeatures();let _0x378265=_0x504a2d(0x399);if(!_0x155807)_0x378265+=_0x504a2d(0x178)+_0x30795d+_0x504a2d(0x350),_0x378265+='<div\x20class=\x22popup-field\x22><strong>MANZANO:</strong><div\x20class=\x22value\x22>'+_0x1a5c6e+_0x504a2d(0x350),_0x378265+=_0x504a2d(0x351)+_0x4b138b+_0x504a2d(0x350),_0x378265+=_0x504a2d(0x3c1)+_0x53b0fa+_0x504a2d(0x253),_0x378265+=_0x504a2d(0x182)+_0xba490d+'\x22>'+(_0x42748d[_0x504a2d(0x346)]||_0x504a2d(0x221))+_0x504a2d(0x16b),_0x42bec7?(_0x378265+=_0x504a2d(0x1b3)+_0xfd6c4f+_0x504a2d(0x243),_0x378265+=_0x504a2d(0x211)+_0xfd6c4f+_0x504a2d(0x2a4)):_0x378265+=_0x504a2d(0x18d);else{_0x378265+=_0x504a2d(0x178)+_0x30795d+_0x504a2d(0x350),_0x378265+=_0x504a2d(0x1a9)+_0x1a5c6e+_0x504a2d(0x350),_0x378265+=_0x504a2d(0x351)+_0x4b138b+_0x504a2d(0x350),_0x378265+=_0x504a2d(0x3c1)+_0x53b0fa+'\x20$us</div></div>',_0x378265+=_0x504a2d(0x370)+_0xfd6c4f+'\x22>';if(currentUserType===_0x504a2d(0x1dd)){const _0x2252ee=['DISPONIBLE','RESERVADO'];_0x2252ee[_0x504a2d(0x12b)](_0x2fda0d=>{const _0x529043=_0x504a2d;_0x378265+=_0x529043(0x237)+_0x2fda0d+'\x22\x20'+(_0x42748d[_0x529043(0x346)]===_0x2fda0d?_0x529043(0x138):'')+'>'+_0x2fda0d+_0x529043(0x12d);});}else ESTADOS_DISPONIBLES[_0x504a2d(0x12b)](_0x815174=>{const _0x495c5f=_0x504a2d;_0x378265+=_0x495c5f(0x237)+_0x815174+'\x22\x20'+(_0x42748d[_0x495c5f(0x346)]===_0x815174?_0x495c5f(0x138):'')+'>'+_0x815174+_0x495c5f(0x12d);});_0x378265+='</select></div>',_0x378265+=_0x504a2d(0x165)+_0xfd6c4f+_0x504a2d(0x28e),_0x378265+=_0x504a2d(0x18a)+_0xfd6c4f+_0x504a2d(0x1df);}return _0x378265+=_0x504a2d(0x18c),_0x378265;}function zoomToFeatures(_0x5efe82){const _0x1c4bf5=_0x1b67b7;if(!_0x5efe82||_0x5efe82[_0x1c4bf5(0x36f)]===0x0)return;const _0x3435e2=new mapboxgl[(_0x1c4bf5(0x13f))]();_0x5efe82[_0x1c4bf5(0x12b)](_0x3dd802=>{const _0x35b149=_0x1c4bf5,_0x513b86=_0x3dd802[_0x35b149(0x149)][_0x35b149(0x394)];if(_0x513b86==='Point')_0x3435e2[_0x35b149(0x264)](_0x3dd802[_0x35b149(0x149)][_0x35b149(0x26d)]);else{if(_0x513b86===_0x35b149(0x2be))_0x3dd802[_0x35b149(0x149)]['coordinates']['forEach'](_0x207a03=>_0x3435e2['extend'](_0x207a03));else{if(_0x513b86==='Polygon')_0x3dd802['geometry'][_0x35b149(0x26d)][0x0][_0x35b149(0x12b)](_0x1155d8=>_0x3435e2[_0x35b149(0x264)](_0x1155d8));else _0x513b86==='MultiPolygon'&&_0x3dd802['geometry'][_0x35b149(0x26d)][_0x35b149(0x12b)](_0x224f81=>{const _0x51da30=_0x35b149;_0x224f81[0x0][_0x51da30(0x12b)](_0x5b8e0b=>_0x3435e2['extend'](_0x5b8e0b));});}}}),map[_0x1c4bf5(0x1f2)](_0x3435e2,{'padding':0x32,'duration':0x3e8});}function updateMeasureVisibility(){const _0x5ec33c=_0x1b67b7,_0x2106ba=document[_0x5ec33c(0x19b)](_0x5ec33c(0x225));currentBaseLayer!=='mapbox'&&(_0x2106ba[_0x5ec33c(0x28d)][_0x5ec33c(0x294)]=_0x5ec33c(0x2dd));}function getCentroid(_0x5c3487){const _0x4167b3=_0x1b67b7;if(_0x5c3487[_0x4167b3(0x394)]===_0x4167b3(0x317)){const _0x5b2d63=_0x5c3487[_0x4167b3(0x26d)][0x0];let _0x50477c=0x0,_0x52cdb1=0x0;return _0x5b2d63['forEach'](_0x18222b=>{_0x50477c+=_0x18222b[0x0],_0x52cdb1+=_0x18222b[0x1];}),[_0x50477c/_0x5b2d63[_0x4167b3(0x36f)],_0x52cdb1/_0x5b2d63['length']];}else{if(_0x5c3487[_0x4167b3(0x394)]==='MultiPolygon'){const _0x6f7bd5=_0x5c3487[_0x4167b3(0x26d)][0x0][0x0];let _0x25ecf9=0x0,_0x442cfc=0x0;return _0x6f7bd5[_0x4167b3(0x12b)](_0x11b07f=>{_0x25ecf9+=_0x11b07f[0x0],_0x442cfc+=_0x11b07f[0x1];}),[_0x25ecf9/_0x6f7bd5[_0x4167b3(0x36f)],_0x442cfc/_0x6f7bd5['length']];}}return null;}window[_0x1b67b7(0x387)]=function(_0x4224d5){const _0x173bd2=_0x1b67b7;if(!canAccessRestrictedFeatures()){alert(_0x173bd2(0x1ab));return;}if(!currentUrb){alert(_0x173bd2(0x21a));return;}const _0x3d85d9=urbData[currentUrb]['lotes'][_0x173bd2(0x19a)](_0x52bb2e=>_0x52bb2e[_0x173bd2(0x397)][idFieldName]===_0x4224d5);if(!_0x3d85d9){alert(_0x173bd2(0x331));return;}currentLoteData={'id':_0x4224d5,'properties':_0x3d85d9[_0x173bd2(0x397)],'geometry':_0x3d85d9['geometry'],'urb':currentUrb},document[_0x173bd2(0x19b)]('form-lote')[_0x173bd2(0x27c)]=_0x3d85d9['properties'][_0x173bd2(0x2df)]||_0x173bd2(0x221),document[_0x173bd2(0x19b)]('form-manzano')['value']=_0x3d85d9[_0x173bd2(0x397)][_0x173bd2(0x1c0)]||'N/A',document[_0x173bd2(0x19b)]('form-Supm2')[_0x173bd2(0x27c)]=_0x3d85d9[_0x173bd2(0x397)][_0x173bd2(0x21e)]||_0x3d85d9[_0x173bd2(0x397)][_0x173bd2(0x3b0)]||'N/A',document[_0x173bd2(0x19b)]('form-precio-contado')[_0x173bd2(0x27c)]='',document[_0x173bd2(0x19b)]('form-precio')[_0x173bd2(0x27c)]='',document[_0x173bd2(0x19b)](_0x173bd2(0x1af))['value']='',document[_0x173bd2(0x19b)]('form-plazo-anos')[_0x173bd2(0x27c)]='',document[_0x173bd2(0x19b)](_0x173bd2(0x381))[_0x173bd2(0x27c)]='',document[_0x173bd2(0x19b)](_0x173bd2(0x388))['value']='',document[_0x173bd2(0x17b)]('#reporte-form\x20input[type=\x22checkbox\x22]')[_0x173bd2(0x12b)](_0x1a9f4f=>_0x1a9f4f[_0x173bd2(0x31c)]=![]),document['getElementById'](_0x173bd2(0x148))[_0x173bd2(0x260)]['add'](_0x173bd2(0x1e9));},document[_0x1b67b7(0x19b)](_0x1b67b7(0x2ac))[_0x1b67b7(0x1ee)](_0x1b67b7(0x34e),async function(_0x40972d){const _0x2864bc=_0x1b67b7;_0x40972d[_0x2864bc(0x2c3)]();if(!currentLoteData){alert(_0x2864bc(0x39c));return;}const _0x42e797={'lote':document[_0x2864bc(0x19b)](_0x2864bc(0x3bc))[_0x2864bc(0x27c)],'manzano':document[_0x2864bc(0x19b)]('form-manzano')[_0x2864bc(0x27c)],'Supm2':document[_0x2864bc(0x19b)](_0x2864bc(0x267))['value'],'precioContado':parseFloat(document['getElementById'](_0x2864bc(0x22e))[_0x2864bc(0x27c)])||0x0,'precio':parseFloat(document[_0x2864bc(0x19b)]('form-precio')[_0x2864bc(0x27c)])||0x0,'cuotaInicial':parseFloat(document[_0x2864bc(0x19b)](_0x2864bc(0x1af))['value'])||0x0,'plazoAnos':parseInt(document['getElementById'](_0x2864bc(0x345))[_0x2864bc(0x27c)])||0x0,'cuotaMensual':parseFloat(document[_0x2864bc(0x19b)]('form-cuota-mensual')[_0x2864bc(0x27c)])||0x0,'observaciones':document[_0x2864bc(0x19b)]('form-observaciones')[_0x2864bc(0x27c)],'servicios':[]};document['querySelectorAll'](_0x2864bc(0x13e))[_0x2864bc(0x12b)](_0x16f3ba=>{const _0x4e167f=_0x2864bc;_0x42e797[_0x4e167f(0x219)][_0x4e167f(0x280)](_0x16f3ba[_0x4e167f(0x27c)]);}),await generarPDF(_0x42e797),document[_0x2864bc(0x19b)](_0x2864bc(0x148))[_0x2864bc(0x260)]['remove']('active');});async function generarPDF(_0x31dc8c){const _0x1610b8=_0x1b67b7;try{alert('â³\x20Generando\x20PDF...\x20Por\x20favor\x20espere.');const {jsPDF:_0x3a882a}=window[_0x1610b8(0x1e3)],_0xa4863c=new _0x3a882a('p','mm','a4'),_0x447c11=_0xa4863c[_0x1610b8(0x281)]['pageSize']['getWidth'](),_0x2d1bd4=0xf;let _0x5e8aba=_0x2d1bd4;_0xa4863c[_0x1610b8(0x30c)](0x0,0x1f,0x62),_0xa4863c[_0x1610b8(0x30a)](0x0,0x0,_0x447c11,0x1e,'F'),_0xa4863c[_0x1610b8(0x3c3)](0xff,0xff,0xff),_0xa4863c[_0x1610b8(0x2a3)](0x16),_0xa4863c[_0x1610b8(0x1ea)](undefined,_0x1610b8(0x27f)),_0xa4863c['text'](_0x1610b8(0x191),_0x2d1bd4,0xd);const _0x449f41=URB_NOMBRES[currentLoteData[_0x1610b8(0x300)]]||_0x1610b8(0x1b7)+currentLoteData[_0x1610b8(0x300)];_0xa4863c[_0x1610b8(0x2a3)](0xf),_0xa4863c[_0x1610b8(0x1ea)](undefined,'normal'),_0xa4863c[_0x1610b8(0x1bf)](_0x1610b8(0x218)+_0x449f41,_0x2d1bd4,0x15);const _0x4b98d6=new Date()[_0x1610b8(0x379)]('es-BO',{'year':'numeric','month':_0x1610b8(0x24d),'day':'numeric'});_0xa4863c[_0x1610b8(0x2a3)](0x9),_0xa4863c['text'](_0x4b98d6,_0x447c11-_0x2d1bd4,0xd,{'align':_0x1610b8(0x311)}),_0x5e8aba=0x26;const _0x19f8bd=getCentroid(currentLoteData[_0x1610b8(0x149)]);if(_0x19f8bd)try{const _0x714718=map[_0x1610b8(0x3aa)](),_0x411ae0=map[_0x1610b8(0x1e5)](),_0x538a22=map['getPitch']();if(currentPopup)currentPopup[_0x1610b8(0x2bd)]();document[_0x1610b8(0x17b)]('.mapboxgl-ctrl-top-right,\x20.mapboxgl-ctrl-bottom-right,\x20.mapboxgl-ctrl-bottom-left')[_0x1610b8(0x12b)](_0x23bdff=>{const _0x5f38cf=_0x1610b8;_0x23bdff[_0x5f38cf(0x28d)][_0x5f38cf(0x294)]='none';}),map[_0x1610b8(0x194)](_0x1610b8(0x1bc),'visibility','visible'),map[_0x1610b8(0x194)]('terrain-3d-layer','visibility','none'),map['setPitch'](0x0),map[_0x1610b8(0x375)](null),await new Promise(_0xacfc4b=>setTimeout(_0xacfc4b,0x1f4));const _0x1148cc='temp-lote-pdf';map[_0x1610b8(0x2a6)](_0x1148cc)&&(map[_0x1610b8(0x12e)](_0x1148cc+_0x1610b8(0x2d7)),map[_0x1610b8(0x12e)](_0x1148cc+_0x1610b8(0x309)),map['removeSource'](_0x1148cc));map['addSource'](_0x1148cc,{'type':_0x1610b8(0x197),'data':{'type':'FeatureCollection','features':[{'type':'Feature','geometry':currentLoteData[_0x1610b8(0x149)],'properties':currentLoteData[_0x1610b8(0x397)]}]}}),map[_0x1610b8(0x3bd)]({'id':_0x1148cc+_0x1610b8(0x2d7),'type':_0x1610b8(0x183),'source':_0x1148cc,'paint':{'fill-color':getColorByEstado(currentLoteData[_0x1610b8(0x397)][_0x1610b8(0x346)]),'fill-opacity':0.7}}),map[_0x1610b8(0x3bd)]({'id':_0x1148cc+_0x1610b8(0x309),'type':'line','source':_0x1148cc,'paint':{'line-color':_0x1610b8(0x383),'line-width':0x5}}),map[_0x1610b8(0x33e)]({'center':_0x19f8bd,'zoom':0x13}),map[_0x1610b8(0x143)](),await new Promise(_0x3fc9f8=>setTimeout(_0x3fc9f8,0x7d0)),await new Promise(_0x1d1af7=>{const _0x42c01f=_0x1610b8;if(map[_0x42c01f(0x306)]()&&map[_0x42c01f(0x365)]())_0x1d1af7();else{const _0x4ffde6=()=>{const _0x187905=_0x42c01f;map['loaded']()&&map[_0x187905(0x365)]()&&(map['off'](_0x187905(0x2fd),_0x4ffde6),_0x1d1af7());};map['on']('render',_0x4ffde6),setTimeout(_0x1d1af7,0xbb8);}});const _0xfcebab=map[_0x1610b8(0x1f5)](),_0x216d6d=_0xfcebab[_0x1610b8(0x2d0)](_0x1610b8(0x1b9),0x1);if(_0x216d6d&&_0x216d6d['length']>0x64){const _0x29558a=_0x447c11-_0x2d1bd4*0x2,_0x15551c=0x46;_0xa4863c['addImage'](_0x216d6d,'PNG',_0x2d1bd4,_0x5e8aba,_0x29558a,_0x15551c),_0x5e8aba+=_0x15551c+0x5;}if(map['getLayer'](_0x1148cc+_0x1610b8(0x2d7)))map[_0x1610b8(0x12e)](_0x1148cc+_0x1610b8(0x2d7));if(map[_0x1610b8(0x1a1)](_0x1148cc+'-line'))map[_0x1610b8(0x12e)](_0x1148cc+_0x1610b8(0x309));if(map[_0x1610b8(0x2a6)](_0x1148cc))map[_0x1610b8(0x17d)](_0x1148cc);if(currentBaseLayer===_0x1610b8(0x398))map[_0x1610b8(0x194)](_0x1610b8(0x1bc),_0x1610b8(0x2ef),_0x1610b8(0x2dd)),map[_0x1610b8(0x375)](null);else{if(currentBaseLayer===_0x1610b8(0x32d))map[_0x1610b8(0x194)]('google-satellite-layer',_0x1610b8(0x2ef),'none'),map[_0x1610b8(0x194)](_0x1610b8(0x229),_0x1610b8(0x2ef),_0x1610b8(0x175)),map[_0x1610b8(0x375)]({'source':_0x1610b8(0x39e),'exaggeration':1.5});else{if(currentBaseLayer===_0x1610b8(0x2b4))map['setLayoutProperty'](_0x1610b8(0x1bc),'visibility','visible'),map['setLayoutProperty'](_0x1610b8(0x229),_0x1610b8(0x2ef),_0x1610b8(0x2dd)),map['setTerrain']({'source':_0x1610b8(0x39e),'exaggeration':1.5});else currentBaseLayer===_0x1610b8(0x155)&&(map[_0x1610b8(0x194)]('google-satellite-layer',_0x1610b8(0x2ef),_0x1610b8(0x175)),map[_0x1610b8(0x194)]('terrain-3d-layer',_0x1610b8(0x2ef),_0x1610b8(0x2dd)),map['setTerrain'](null));}}map['jumpTo']({'center':_0x714718,'zoom':_0x411ae0}),map[_0x1610b8(0x12c)](_0x538a22),document[_0x1610b8(0x17b)]('.mapboxgl-ctrl-top-right,\x20.mapboxgl-ctrl-bottom-right,\x20.mapboxgl-ctrl-bottom-left')[_0x1610b8(0x12b)](_0x10b4cd=>{const _0x25c084=_0x1610b8;_0x10b4cd[_0x25c084(0x28d)][_0x25c084(0x294)]='';});}catch(_0x5e9fb5){console['error'](_0x1610b8(0x34d),_0x5e9fb5);}_0xa4863c[_0x1610b8(0x3c3)](0x0,0x1f,0x62),_0xa4863c[_0x1610b8(0x2a3)](0xd),_0xa4863c[_0x1610b8(0x1ea)](undefined,_0x1610b8(0x27f)),_0xa4863c[_0x1610b8(0x1bf)](_0x1610b8(0x242),_0x2d1bd4,_0x5e8aba),_0x5e8aba+=0x2,_0xa4863c[_0x1610b8(0x140)](0x0,0x1f,0x62),_0xa4863c[_0x1610b8(0x2d2)](0.5),_0xa4863c[_0x1610b8(0x1ae)](_0x2d1bd4,_0x5e8aba,_0x447c11-_0x2d1bd4,_0x5e8aba),_0x5e8aba+=0x6,_0xa4863c[_0x1610b8(0x3c3)](0x0,0x0,0x0),_0xa4863c['setFontSize'](0xa),_0xa4863c[_0x1610b8(0x1ea)](undefined,_0x1610b8(0x27f)),_0xa4863c['text'](_0x1610b8(0x145),_0x2d1bd4,_0x5e8aba),_0xa4863c[_0x1610b8(0x1ea)](undefined,'normal'),_0xa4863c[_0x1610b8(0x1bf)](_0x31dc8c[_0x1610b8(0x2df)],_0x2d1bd4+0x14,_0x5e8aba),_0xa4863c[_0x1610b8(0x1ea)](undefined,'bold'),_0xa4863c['text'](_0x1610b8(0x337),_0x447c11/0x2,_0x5e8aba),_0xa4863c[_0x1610b8(0x1ea)](undefined,_0x1610b8(0x2e6)),_0xa4863c[_0x1610b8(0x1bf)](_0x31dc8c[_0x1610b8(0x1c0)],_0x447c11/0x2+0x16,_0x5e8aba),_0x5e8aba+=0x5,_0xa4863c[_0x1610b8(0x1ea)](undefined,_0x1610b8(0x27f)),_0xa4863c[_0x1610b8(0x1bf)](_0x1610b8(0x2da),_0x2d1bd4,_0x5e8aba),_0xa4863c[_0x1610b8(0x1ea)](undefined,_0x1610b8(0x2e6)),_0xa4863c[_0x1610b8(0x1bf)](_0x31dc8c[_0x1610b8(0x3b0)]+_0x1610b8(0x3b3),_0x2d1bd4+0x19,_0x5e8aba);const _0x57fcbe=currentLoteData['properties']['estado']||_0x1610b8(0x221);_0xa4863c['setFont'](undefined,_0x1610b8(0x27f)),_0xa4863c[_0x1610b8(0x1bf)](_0x1610b8(0x2ed),_0x447c11/0x2,_0x5e8aba);const _0x5d6b38=getColorByEstado(_0x57fcbe);_0xa4863c[_0x1610b8(0x3c3)](_0x5d6b38),_0xa4863c[_0x1610b8(0x1ea)](undefined,_0x1610b8(0x27f)),_0xa4863c[_0x1610b8(0x1bf)](_0x57fcbe,_0x447c11/0x2+0x11,_0x5e8aba),_0xa4863c['setTextColor'](0x0,0x0,0x0),_0x5e8aba+=0x8;_0x31dc8c[_0x1610b8(0x223)]>0x0&&(_0xa4863c[_0x1610b8(0x3c3)](0x0,0x1f,0x62),_0xa4863c[_0x1610b8(0x2a3)](0xc),_0xa4863c['setFont'](undefined,_0x1610b8(0x27f)),_0xa4863c['text'](_0x1610b8(0x142),_0x2d1bd4,_0x5e8aba),_0x5e8aba+=0x2,_0xa4863c[_0x1610b8(0x140)](0x0,0x1f,0x62),_0xa4863c['line'](_0x2d1bd4,_0x5e8aba,_0x447c11-_0x2d1bd4,_0x5e8aba),_0x5e8aba+=0x6,_0xa4863c[_0x1610b8(0x3c3)](0x0,0x0,0x0),_0xa4863c[_0x1610b8(0x2a3)](0xa),_0xa4863c['setFont'](undefined,_0x1610b8(0x27f)),_0xa4863c[_0x1610b8(0x1bf)](_0x1610b8(0x29f),_0x2d1bd4,_0x5e8aba),_0xa4863c['setFont'](undefined,_0x1610b8(0x2e6)),_0xa4863c[_0x1610b8(0x1bf)](_0x1610b8(0x15f)+_0x31dc8c[_0x1610b8(0x223)]['toLocaleString'](_0x1610b8(0x367)),_0x2d1bd4+0x1b,_0x5e8aba),_0x5e8aba+=0x8);_0x31dc8c['precio']>0x0&&(_0xa4863c[_0x1610b8(0x3c3)](0x0,0x1f,0x62),_0xa4863c[_0x1610b8(0x2a3)](0xc),_0xa4863c[_0x1610b8(0x1ea)](undefined,'bold'),_0xa4863c['text']('PRECIO\x20A\x20CRÃ‰DITO',_0x2d1bd4,_0x5e8aba),_0x5e8aba+=0x2,_0xa4863c[_0x1610b8(0x140)](0x0,0x1f,0x62),_0xa4863c[_0x1610b8(0x1ae)](_0x2d1bd4,_0x5e8aba,_0x447c11-_0x2d1bd4,_0x5e8aba),_0x5e8aba+=0x6,_0xa4863c[_0x1610b8(0x3c3)](0x0,0x0,0x0),_0xa4863c[_0x1610b8(0x2a3)](0xa),_0xa4863c[_0x1610b8(0x1ea)](undefined,_0x1610b8(0x27f)),_0xa4863c['text'](_0x1610b8(0x2bf),_0x2d1bd4,_0x5e8aba),_0xa4863c[_0x1610b8(0x1ea)](undefined,_0x1610b8(0x2e6)),_0xa4863c[_0x1610b8(0x1bf)](_0x1610b8(0x15f)+_0x31dc8c[_0x1610b8(0x2e2)][_0x1610b8(0x2a5)](_0x1610b8(0x367)),_0x2d1bd4+0x1b,_0x5e8aba),_0xa4863c['setFont'](undefined,'bold'),_0xa4863c[_0x1610b8(0x1bf)](_0x1610b8(0x299),_0x447c11/0x2,_0x5e8aba),_0xa4863c[_0x1610b8(0x1ea)](undefined,_0x1610b8(0x2e6)),_0xa4863c[_0x1610b8(0x1bf)](_0x1610b8(0x1e8)+_0x31dc8c[_0x1610b8(0x2fc)][_0x1610b8(0x2a5)](_0x1610b8(0x367)),_0x447c11/0x2+0x1c,_0x5e8aba),_0x5e8aba+=0x5,_0x31dc8c[_0x1610b8(0x353)]>0x0&&(_0xa4863c[_0x1610b8(0x1ea)](undefined,_0x1610b8(0x27f)),_0xa4863c[_0x1610b8(0x1bf)](_0x1610b8(0x1a4),_0x2d1bd4,_0x5e8aba),_0xa4863c[_0x1610b8(0x1ea)](undefined,_0x1610b8(0x2e6)),_0xa4863c[_0x1610b8(0x1bf)](_0x31dc8c['plazoAnos']+_0x1610b8(0x1de),_0x2d1bd4+0xf,_0x5e8aba)),_0xa4863c['setFont'](undefined,_0x1610b8(0x27f)),_0xa4863c[_0x1610b8(0x1bf)](_0x1610b8(0x151),_0x447c11/0x2,_0x5e8aba),_0xa4863c[_0x1610b8(0x1ea)](undefined,'normal'),_0xa4863c[_0x1610b8(0x1bf)]('Bs.\x20'+_0x31dc8c[_0x1610b8(0x2ea)][_0x1610b8(0x2a5)](_0x1610b8(0x367)),_0x447c11/0x2+0x21,_0x5e8aba),_0x5e8aba+=0x8);if(_0x31dc8c[_0x1610b8(0x219)]['length']>0x0){_0xa4863c[_0x1610b8(0x3c3)](0x0,0x1f,0x62),_0xa4863c[_0x1610b8(0x2a3)](0xc),_0xa4863c[_0x1610b8(0x1ea)](undefined,_0x1610b8(0x27f)),_0xa4863c[_0x1610b8(0x1bf)](_0x1610b8(0x13a),_0x2d1bd4,_0x5e8aba),_0x5e8aba+=0x2,_0xa4863c[_0x1610b8(0x140)](0x0,0x1f,0x62),_0xa4863c[_0x1610b8(0x1ae)](_0x2d1bd4,_0x5e8aba,_0x447c11-_0x2d1bd4,_0x5e8aba),_0x5e8aba+=0x6,_0xa4863c[_0x1610b8(0x3c3)](0x0,0x0,0x0),_0xa4863c[_0x1610b8(0x2a3)](0x9),_0xa4863c[_0x1610b8(0x1ea)](undefined,'normal');const _0x331d4e=(_0x447c11-_0x2d1bd4*0x2)/0x2;_0x31dc8c['servicios'][_0x1610b8(0x12b)]((_0x1c3929,_0x3ef48b)=>{const _0x4c9abe=_0x1610b8,_0x166dce=_0x3ef48b%0x2,_0x64e670=_0x2d1bd4+_0x166dce*_0x331d4e;_0xa4863c['text']('âœ“\x20'+_0x1c3929,_0x64e670,_0x5e8aba),(_0x166dce===0x1||_0x3ef48b===_0x31dc8c[_0x4c9abe(0x219)][_0x4c9abe(0x36f)]-0x1)&&(_0x5e8aba+=0x5);}),_0x5e8aba+=0x3;}if(_0x31dc8c[_0x1610b8(0x395)]){_0xa4863c[_0x1610b8(0x3c3)](0x0,0x1f,0x62),_0xa4863c[_0x1610b8(0x2a3)](0xc),_0xa4863c[_0x1610b8(0x1ea)](undefined,_0x1610b8(0x27f)),_0xa4863c[_0x1610b8(0x1bf)]('OBSERVACIONES',_0x2d1bd4,_0x5e8aba),_0x5e8aba+=0x2,_0xa4863c[_0x1610b8(0x140)](0x0,0x1f,0x62),_0xa4863c[_0x1610b8(0x1ae)](_0x2d1bd4,_0x5e8aba,_0x447c11-_0x2d1bd4,_0x5e8aba),_0x5e8aba+=0x6,_0xa4863c[_0x1610b8(0x3c3)](0x0,0x0,0x0),_0xa4863c[_0x1610b8(0x2a3)](0x9),_0xa4863c['setFont'](undefined,_0x1610b8(0x2e6));const _0x2a7f2e=_0xa4863c['splitTextToSize'](_0x31dc8c[_0x1610b8(0x395)],_0x447c11-_0x2d1bd4*0x2);_0xa4863c[_0x1610b8(0x1bf)](_0x2a7f2e,_0x2d1bd4,_0x5e8aba),_0x5e8aba+=_0x2a7f2e[_0x1610b8(0x36f)]*0x5+0x3;}if(_0x19f8bd){_0xa4863c[_0x1610b8(0x3c3)](0x0,0x1f,0x62),_0xa4863c[_0x1610b8(0x2a3)](0xb),_0xa4863c[_0x1610b8(0x1ea)](undefined,_0x1610b8(0x27f)),_0xa4863c[_0x1610b8(0x1bf)](_0x1610b8(0x3ab),_0x2d1bd4,_0x5e8aba),_0x5e8aba+=0x5;const _0x5b9a48=_0x1610b8(0x176)+_0x19f8bd[0x1]+','+_0x19f8bd[0x0];_0xa4863c[_0x1610b8(0x3c3)](0xe,0xa5,0xe9),_0xa4863c[_0x1610b8(0x2a3)](0xc),_0xa4863c['textWithLink'](_0x5b9a48,_0x2d1bd4,_0x5e8aba,{'url':_0x5b9a48});}_0xa4863c[_0x1610b8(0x3c3)](0x64,0x64,0x64),_0xa4863c[_0x1610b8(0x2a3)](0x7),_0xa4863c[_0x1610b8(0x1ea)](undefined,'italic'),_0xa4863c['text'](_0x1610b8(0x25a),_0x447c11/0x2,0x11f,{'align':'center'});const _0xcaef45=_0x1610b8(0x13b)+_0x31dc8c[_0x1610b8(0x2df)]+_0x1610b8(0x273)+_0x31dc8c[_0x1610b8(0x1c0)]+'_'+new Date()[_0x1610b8(0x201)]()+_0x1610b8(0x2ff);_0xa4863c[_0x1610b8(0x2ab)](_0xcaef45),alert(_0x1610b8(0x283));}catch(_0x459a16){console[_0x1610b8(0x274)]('Error\x20generando\x20PDF:',_0x459a16),alert(_0x1610b8(0x2e5)+_0x459a16['message']);}}document[_0x1b67b7(0x19b)](_0x1b67b7(0x30b))['addEventListener'](_0x1b67b7(0x34e),async function(_0x2e1ec5){const _0x3aedec=_0x1b67b7;_0x2e1ec5[_0x3aedec(0x2c3)]();if(!pendingEstadoChange){alert(_0x3aedec(0x2c4));return;}const _0x452b30={'nom_cliente':document[_0x3aedec(0x19b)](_0x3aedec(0x2e9))['value']['trim'](),'cel_cliente':document[_0x3aedec(0x19b)](_0x3aedec(0x3a5))[_0x3aedec(0x27c)][_0x3aedec(0x284)](),'precio_vent':parseFloat(document[_0x3aedec(0x19b)]('venta-precio')[_0x3aedec(0x27c)]),'monto_bs':document[_0x3aedec(0x19b)](_0x3aedec(0x1d7))[_0x3aedec(0x27c)]?parseFloat(document['getElementById'](_0x3aedec(0x1d7))[_0x3aedec(0x27c)]):null,'tipo_venta':document[_0x3aedec(0x19b)](_0x3aedec(0x167))['value'],'vendedor':document['getElementById'](_0x3aedec(0x2ca))[_0x3aedec(0x27c)]['trim']()};if(!_0x452b30[_0x3aedec(0x290)]||!_0x452b30['cel_cliente']||!_0x452b30['precio_vent']||!_0x452b30[_0x3aedec(0x137)]||!_0x452b30[_0x3aedec(0x141)]){alert(_0x3aedec(0x26a));return;}if(isNaN(_0x452b30[_0x3aedec(0x136)])||_0x452b30[_0x3aedec(0x136)]<=0x0){alert(_0x3aedec(0x28f));return;}ventaModal[_0x3aedec(0x260)][_0x3aedec(0x2bd)]('active'),await guardarEstadoConDatos(pendingEstadoChange[_0x3aedec(0x1f0)],pendingEstadoChange['nuevoEstado'],_0x452b30,pendingEstadoChange['urb']),document[_0x3aedec(0x19b)]('venta-form')['reset'](),pendingEstadoChange=null;});async function guardarEstadoConDatos(_0x229b28,_0x5a1e9b,_0x452dfd,_0x2047fe){const _0x537023=_0x1b67b7,_0x52f83e=_0x537023(0x3b4)+_0x2047fe;try{const _0x31ba03={'estado':_0x5a1e9b,'nom_cliente':_0x452dfd[_0x537023(0x290)],'cel_cliente':_0x452dfd[_0x537023(0x2f2)],'precio_vent':_0x452dfd[_0x537023(0x136)],'monto_bs':_0x452dfd[_0x537023(0x18f)],'tipo_venta':_0x452dfd[_0x537023(0x137)],'vendedor':_0x452dfd['vendedor']};console[_0x537023(0x386)](_0x537023(0x25c),_0x31ba03),console[_0x537023(0x386)](_0x537023(0x396),_0x229b28,_0x537023(0x2c0),_0x2047fe,_0x537023(0x292),idFieldName);const _0x389563=await fetch(SUPABASE_CONFIG[_0x537023(0x361)]+_0x537023(0x358)+idFieldName+'=eq.'+_0x229b28,{'method':'PATCH','headers':{'apikey':SUPABASE_CONFIG[_0x537023(0x32a)],'Authorization':_0x537023(0x282)+SUPABASE_CONFIG[_0x537023(0x32a)],'Content-Type':_0x537023(0x268),'Prefer':_0x537023(0x2f8)},'body':JSON[_0x537023(0x16d)](_0x31ba03)});if(!_0x389563['ok']){const _0x373f02=await _0x389563['text']();throw new Error(_0x537023(0x36d)+_0x389563[_0x537023(0x325)]+':\x20'+_0x373f02);}const _0x42e97a=await _0x389563[_0x537023(0x3ba)]();console[_0x537023(0x386)](_0x537023(0x180),_0x42e97a);if(!_0x42e97a||_0x42e97a[_0x537023(0x36f)]===0x0){alert('âš ï¸\x20No\x20se\x20encontrÃ³\x20el\x20registro\x20a\x20actualizar.');return;}const _0x21379a=urbData[_0x2047fe]['lotes'][_0x537023(0x16e)](_0x59f218=>_0x59f218['properties'][idFieldName]===_0x229b28);_0x21379a!==-0x1&&(urbData[_0x2047fe][_0x537023(0x272)][_0x21379a]['properties'][_0x537023(0x346)]=_0x5a1e9b,urbData[_0x2047fe][_0x537023(0x272)][_0x21379a][_0x537023(0x397)][_0x537023(0x290)]=_0x452dfd[_0x537023(0x290)],urbData[_0x2047fe]['lotes'][_0x21379a][_0x537023(0x397)]['cel_cliente']=_0x452dfd[_0x537023(0x2f2)],urbData[_0x2047fe][_0x537023(0x272)][_0x21379a][_0x537023(0x397)][_0x537023(0x136)]=_0x452dfd[_0x537023(0x136)],urbData[_0x2047fe][_0x537023(0x272)][_0x21379a][_0x537023(0x397)][_0x537023(0x137)]=_0x452dfd['tipo_venta'],urbData[_0x2047fe][_0x537023(0x272)][_0x21379a][_0x537023(0x397)][_0x537023(0x141)]=_0x452dfd[_0x537023(0x141)],console[_0x537023(0x386)](_0x537023(0x17a)));const _0x42d654=map[_0x537023(0x2a6)](_0x52f83e);_0x42d654&&(_0x42d654['setData']({'type':_0x537023(0x36b),'features':urbData[_0x2047fe][_0x537023(0x272)]}),console[_0x537023(0x386)](_0x537023(0x2e3))),alert('âœ…\x20Estado\x20y\x20datos\x20de\x20venta\x20actualizados\x20exitosamente\x0a\x0aðŸ’¡\x20Tip:\x20Los\x20datos\x20ya\x20estÃ¡n\x20guardados\x20y\x20listos\x20para\x20exportar\x20a\x20Excel.'),currentPopup&&setTimeout(()=>currentPopup['remove'](),0x3e8);}catch(_0x3dc455){console[_0x537023(0x274)](_0x537023(0x1cd),_0x3dc455),alert(_0x537023(0x209)+_0x3dc455['message']);}}async function guardarEstadoSinDatos(_0x3c47be,_0x483abe,_0x275e25){const _0x1c47b4=_0x1b67b7,_0x208b8f=_0x1c47b4(0x3b4)+_0x275e25;try{const _0x11f7d5={'estado':_0x483abe,'nom_cliente':null,'cel_cliente':null,'precio_vent':null,'tipo_venta':null,'vendedor':null};console[_0x1c47b4(0x386)](_0x1c47b4(0x156),_0x11f7d5),console[_0x1c47b4(0x386)](_0x1c47b4(0x396),_0x3c47be,_0x1c47b4(0x2c0),_0x275e25,_0x1c47b4(0x292),idFieldName);const _0x122d05=await fetch(SUPABASE_CONFIG['url']+_0x1c47b4(0x358)+idFieldName+'=eq.'+_0x3c47be,{'method':_0x1c47b4(0x1d5),'headers':{'apikey':SUPABASE_CONFIG[_0x1c47b4(0x32a)],'Authorization':_0x1c47b4(0x282)+SUPABASE_CONFIG[_0x1c47b4(0x32a)],'Content-Type':'application/json','Prefer':'return=representation'},'body':JSON[_0x1c47b4(0x16d)](_0x11f7d5)});if(!_0x122d05['ok']){const _0x50e0f7=await _0x122d05[_0x1c47b4(0x1bf)]();throw new Error(_0x1c47b4(0x36d)+_0x122d05[_0x1c47b4(0x325)]+':\x20'+_0x50e0f7);}const _0x222515=await _0x122d05[_0x1c47b4(0x3ba)]();console[_0x1c47b4(0x386)](_0x1c47b4(0x180),_0x222515);if(!_0x222515||_0x222515[_0x1c47b4(0x36f)]===0x0){alert(_0x1c47b4(0x251));return;}const _0x3eaeae=urbData[_0x275e25][_0x1c47b4(0x272)][_0x1c47b4(0x16e)](_0x704e3a=>_0x704e3a[_0x1c47b4(0x397)][idFieldName]===_0x3c47be);_0x3eaeae!==-0x1&&(urbData[_0x275e25][_0x1c47b4(0x272)][_0x3eaeae][_0x1c47b4(0x397)][_0x1c47b4(0x346)]=_0x483abe,urbData[_0x275e25][_0x1c47b4(0x272)][_0x3eaeae]['properties'][_0x1c47b4(0x290)]=null,urbData[_0x275e25][_0x1c47b4(0x272)][_0x3eaeae][_0x1c47b4(0x397)]['cel_cliente']=null,urbData[_0x275e25][_0x1c47b4(0x272)][_0x3eaeae][_0x1c47b4(0x397)]['precio_vent']=null,urbData[_0x275e25][_0x1c47b4(0x272)][_0x3eaeae][_0x1c47b4(0x397)][_0x1c47b4(0x137)]=null,urbData[_0x275e25]['lotes'][_0x3eaeae]['properties'][_0x1c47b4(0x141)]=null,console['log'](_0x1c47b4(0x254)));const _0x3e245e=map[_0x1c47b4(0x2a6)](_0x208b8f);_0x3e245e&&(_0x3e245e['setData']({'type':_0x1c47b4(0x36b),'features':urbData[_0x275e25][_0x1c47b4(0x272)]}),console[_0x1c47b4(0x386)](_0x1c47b4(0x2e3))),alert(_0x1c47b4(0x198)),currentPopup&&setTimeout(()=>currentPopup[_0x1c47b4(0x2bd)](),0x3e8);}catch(_0x5c1561){console[_0x1c47b4(0x274)]('âŒ\x20Error\x20al\x20guardar:',_0x5c1561),alert(_0x1c47b4(0x209)+_0x5c1561[_0x1c47b4(0x304)]);}}function mostrarModalExcel(){const _0x51403a=_0x1b67b7,_0x5ac3b5=document[_0x51403a(0x19b)]('urb-list-excel');_0x5ac3b5[_0x51403a(0x2b8)]='',Object[_0x51403a(0x2a1)](urbData)[_0x51403a(0x12b)](_0x5732a4=>{const _0x1003a4=_0x51403a,_0x7a986=document['createElement'](_0x1003a4(0x315));_0x7a986['className']=_0x1003a4(0x2e1),_0x7a986[_0x1003a4(0x2b8)]='<i\x20class=\x22fas\x20fa-file-excel\x22></i><span>'+(URB_NOMBRES[_0x5732a4]||'URB:\x20'+_0x5732a4)+'</span>',_0x7a986[_0x1003a4(0x1ee)]('click',()=>exportarExcel(_0x5732a4)),_0x5ac3b5[_0x1003a4(0x1cf)](_0x7a986);}),excelModal[_0x51403a(0x260)][_0x51403a(0x39d)]('active');}async function exportarExcel(_0x4d35a3){const _0x2136c0=_0x1b67b7;try{excelModal[_0x2136c0(0x260)][_0x2136c0(0x2bd)]('active'),alert(_0x2136c0(0x29a));let _0x2568f8=[],_0x2c516a=0x0;const _0x59aeb3=0x3e8;let _0x575f01=!![];console['log']('ðŸ“Š\x20Exportando\x20datos\x20para\x20URB:\x20'+_0x4d35a3);while(_0x575f01){const _0xc62acf=await fetch(SUPABASE_CONFIG[_0x2136c0(0x361)]+_0x2136c0(0x285)+_0x4d35a3+_0x2136c0(0x341)+_0x59aeb3+_0x2136c0(0x228)+_0x2c516a,{'headers':{'apikey':SUPABASE_CONFIG[_0x2136c0(0x32a)],'Authorization':_0x2136c0(0x282)+SUPABASE_CONFIG[_0x2136c0(0x32a)],'Content-Type':_0x2136c0(0x268),'Prefer':_0x2136c0(0x2f8)}});if(!_0xc62acf['ok'])throw new Error(_0x2136c0(0x257)+_0xc62acf[_0x2136c0(0x325)]);const _0x554474=await _0xc62acf[_0x2136c0(0x3ba)]();_0x2568f8=_0x2568f8['concat'](_0x554474),console[_0x2136c0(0x386)](_0x2136c0(0x3a6)+_0x2c516a+'-'+(_0x2c516a+_0x554474[_0x2136c0(0x36f)])+_0x2136c0(0x3a7)),_0x554474[_0x2136c0(0x36f)]<_0x59aeb3?_0x575f01=![]:_0x2c516a+=_0x59aeb3;}console[_0x2136c0(0x386)]('âœ…\x20Total\x20de\x20registros\x20obtenidos:\x20'+_0x2568f8[_0x2136c0(0x36f)]),console[_0x2136c0(0x386)]('ðŸ“‹\x20Primeros\x203\x20registros:',_0x2568f8[_0x2136c0(0x37e)](0x0,0x3));if(!_0x2568f8||_0x2568f8[_0x2136c0(0x36f)]===0x0){alert('âš ï¸\x20No\x20hay\x20datos\x20disponibles\x20para\x20esta\x20urbanizaciÃ³n');return;}const _0x32dab3=_0x2568f8['map'](_0x3eb240=>({'LOTE':_0x3eb240[_0x2136c0(0x2df)]!==null&&_0x3eb240[_0x2136c0(0x2df)]!==undefined?_0x3eb240[_0x2136c0(0x2df)]:'','MANZANO':_0x3eb240[_0x2136c0(0x1c0)]!==null&&_0x3eb240[_0x2136c0(0x1c0)]!==undefined?_0x3eb240[_0x2136c0(0x1c0)]:'','ESTADO':_0x3eb240[_0x2136c0(0x346)]!==null&&_0x3eb240[_0x2136c0(0x346)]!==undefined?_0x3eb240[_0x2136c0(0x346)]:'','SUPERFICIE\x20(mÂ²)':_0x3eb240[_0x2136c0(0x21e)]!==null&&_0x3eb240['supm2']!==undefined?_0x3eb240[_0x2136c0(0x21e)]:'','PRECIO\x20($us)':_0x3eb240[_0x2136c0(0x2ae)]!==null&&_0x3eb240['precio_lot']!==undefined?_0x3eb240[_0x2136c0(0x2ae)]:'','VENDEDOR':_0x3eb240[_0x2136c0(0x141)]!==null&&_0x3eb240[_0x2136c0(0x141)]!==undefined?_0x3eb240['vendedor']:'','TIPO\x20DE\x20VENTA':_0x3eb240[_0x2136c0(0x137)]!==null&&_0x3eb240[_0x2136c0(0x137)]!==undefined?_0x3eb240['tipo_venta']:'','CELULAR\x20CLIENTE':_0x3eb240[_0x2136c0(0x2f2)]!==null&&_0x3eb240[_0x2136c0(0x2f2)]!==undefined?_0x3eb240[_0x2136c0(0x2f2)]:'','PRECIO\x20DE\x20VENTA\x20(Bs)':_0x3eb240[_0x2136c0(0x136)]!==null&&_0x3eb240[_0x2136c0(0x136)]!==undefined?_0x3eb240[_0x2136c0(0x136)]:'','NOMBRE\x20CLIENTE':_0x3eb240['nom_cliente']!==null&&_0x3eb240[_0x2136c0(0x290)]!==undefined?_0x3eb240[_0x2136c0(0x290)]:''}));console[_0x2136c0(0x386)]('ðŸ“Š\x20Datos\x20formateados\x20para\x20Excel:',_0x32dab3['slice'](0x0,0x3));const _0x2fa8ec=XLSX['utils'][_0x2136c0(0x2d1)](),_0x87fef0=XLSX['utils'][_0x2136c0(0x2de)](_0x32dab3),_0x1f9610=[{'wch':0xa},{'wch':0xc},{'wch':0xf},{'wch':0x12},{'wch':0xf},{'wch':0x14},{'wch':0x12},{'wch':0x12},{'wch':0x14},{'wch':0x1e}];_0x87fef0[_0x2136c0(0x339)]=_0x1f9610;const _0x505e91=URB_NOMBRES[_0x4d35a3]||'URB_'+_0x4d35a3;XLSX[_0x2136c0(0x34b)][_0x2136c0(0x279)](_0x2fa8ec,_0x87fef0,_0x505e91[_0x2136c0(0x37c)](0x0,0x1f));const _0x133334=new Date()[_0x2136c0(0x16c)]()[_0x2136c0(0x1d6)]('T')[0x0],_0xb90757=_0x2136c0(0x2db)+_0x505e91[_0x2136c0(0x1f8)](/\s+/g,'_')+'_'+_0x133334+_0x2136c0(0x36a);XLSX[_0x2136c0(0x23d)](_0x2fa8ec,_0xb90757),alert(_0x2136c0(0x1b5)+_0xb90757+_0x2136c0(0x33c)+_0x2568f8[_0x2136c0(0x36f)]);}catch(_0x446a23){console[_0x2136c0(0x274)](_0x2136c0(0x360),_0x446a23),alert(_0x2136c0(0x27b)+_0x446a23[_0x2136c0(0x304)]);}}window[_0x1b67b7(0x15b)]=function(_0x2a30be){const _0x293d15=_0x1b67b7;if(!canAccessRestrictedFeatures()){alert(_0x293d15(0x1ca));return;}if(!currentUrb){alert(_0x293d15(0x21a));return;}const _0xa08687=urbData[currentUrb][_0x293d15(0x272)][_0x293d15(0x19a)](_0x53ce29=>_0x53ce29['properties'][idFieldName]===_0x2a30be);if(!_0xa08687){alert(_0x293d15(0x331));return;}const _0x39aad7=generarPopupContent(_0xa08687[_0x293d15(0x397)],!![]);if(currentPopup)currentPopup[_0x293d15(0x18e)](_0x39aad7);},window[_0x1b67b7(0x2c9)]=function(_0x3bede9){const _0x2bfbdd=_0x1b67b7;if(!currentUrb)return;const _0x5843f1=urbData[currentUrb][_0x2bfbdd(0x272)][_0x2bfbdd(0x19a)](_0x11e1c9=>_0x11e1c9['properties'][idFieldName]===_0x3bede9);if(!_0x5843f1)return;const _0x18b493=generarPopupContent(_0x5843f1[_0x2bfbdd(0x397)],![]);if(currentPopup)currentPopup[_0x2bfbdd(0x18e)](_0x18b493);},window['guardarEstado']=async function(_0x596c78){const _0x578fc0=_0x1b67b7,_0x87e5a1=document['getElementById']('estado-select-'+_0x596c78);if(!_0x87e5a1){alert('Error:\x20No\x20se\x20encontrÃ³\x20el\x20selector\x20de\x20estado');return;}const _0x3d2f1f=_0x87e5a1[_0x578fc0(0x27c)],_0x4331fc=urbData[currentUrb][_0x578fc0(0x272)][_0x578fc0(0x19a)](_0x3f96be=>_0x3f96be[_0x578fc0(0x397)][idFieldName]===_0x596c78)?.['properties'][_0x578fc0(0x346)];if(currentUserType===_0x578fc0(0x1dd)){if(_0x4331fc!==_0x578fc0(0x23b)){alert(_0x578fc0(0x207)),_0x87e5a1[_0x578fc0(0x27c)]=_0x4331fc;return;}if(_0x3d2f1f!==_0x578fc0(0x25e)){alert('âš ï¸\x20Como\x20usuario\x20secundario,\x20solo\x20puedes\x20cambiar\x20lotes\x20DISPONIBLES\x20a\x20RESERVADOS.'),_0x87e5a1['value']=_0x4331fc;return;}}if((_0x3d2f1f===_0x578fc0(0x1c5)||_0x3d2f1f===_0x578fc0(0x25e))&&_0x4331fc!==_0x3d2f1f){pendingEstadoChange={'featureId':_0x596c78,'nuevoEstado':_0x3d2f1f,'urb':currentUrb};if(currentPopup)currentPopup[_0x578fc0(0x2bd)]();const _0x5d91e8=document['getElementById']('venta-vendedor');_0x5d91e8&&currentUsername&&(_0x5d91e8[_0x578fc0(0x27c)]=currentUsername);document['getElementById'](_0x578fc0(0x314))[_0x578fc0(0x260)][_0x578fc0(0x39d)](_0x578fc0(0x1e9));return;}const _0x16cb47=_0x578fc0(0x3b4)+currentUrb;_0x87e5a1[_0x578fc0(0x23a)]=!![];try{const _0x453f1a=await fetch(SUPABASE_CONFIG[_0x578fc0(0x361)]+_0x578fc0(0x358)+idFieldName+_0x578fc0(0x322)+_0x596c78,{'method':'PATCH','headers':{'apikey':SUPABASE_CONFIG[_0x578fc0(0x32a)],'Authorization':'Bearer\x20'+SUPABASE_CONFIG[_0x578fc0(0x32a)],'Content-Type':_0x578fc0(0x268),'Prefer':'return=representation'},'body':JSON[_0x578fc0(0x16d)]({'estado':_0x3d2f1f})});if(!_0x453f1a['ok']){const _0x13cc29=await _0x453f1a[_0x578fc0(0x1bf)]();throw new Error(_0x578fc0(0x36d)+_0x453f1a[_0x578fc0(0x325)]+':\x20'+_0x13cc29);}const _0x107145=await _0x453f1a[_0x578fc0(0x3ba)]();if(!_0x107145||_0x107145['length']===0x0){alert(_0x578fc0(0x251)),_0x87e5a1[_0x578fc0(0x23a)]=![];return;}const _0x22cecf=urbData[currentUrb][_0x578fc0(0x272)]['findIndex'](_0x3ae566=>_0x3ae566['properties'][idFieldName]===_0x596c78);_0x22cecf!==-0x1&&(urbData[currentUrb]['lotes'][_0x22cecf][_0x578fc0(0x397)][_0x578fc0(0x346)]=_0x3d2f1f);const _0x184278=map[_0x578fc0(0x2a6)](_0x16cb47);_0x184278&&_0x184278[_0x578fc0(0x131)]({'type':_0x578fc0(0x36b),'features':urbData[currentUrb][_0x578fc0(0x272)]}),alert(_0x578fc0(0x33f)),currentPopup&&setTimeout(()=>currentPopup[_0x578fc0(0x2bd)](),0x3e8);}catch(_0x1c5eb2){console['error'](_0x578fc0(0x1cd),_0x1c5eb2),alert(_0x578fc0(0x209)+_0x1c5eb2[_0x578fc0(0x304)]),_0x87e5a1[_0x578fc0(0x23a)]=![];}};function updateMeasurement(){const _0x59ee94=_0x1b67b7;if(currentBaseLayer!=='mapbox'){document[_0x59ee94(0x19b)](_0x59ee94(0x225))[_0x59ee94(0x28d)][_0x59ee94(0x294)]=_0x59ee94(0x2dd);return;}const _0x6f132d=draw[_0x59ee94(0x2d4)]();if(_0x6f132d[_0x59ee94(0x190)][_0x59ee94(0x36f)]>0x0){const _0x33cf62=_0x6f132d[_0x59ee94(0x190)][_0x6f132d['features']['length']-0x1];if(_0x33cf62[_0x59ee94(0x149)]['type']==='LineString'){const _0x169785=turf[_0x59ee94(0x36f)](_0x33cf62,{'units':_0x59ee94(0x13d)}),_0x3d1bf1=(_0x169785/0x3e8)['toFixed'](0x2),_0x55f23d=_0x169785[_0x59ee94(0x318)](0x2);document[_0x59ee94(0x19b)]('measure-container')[_0x59ee94(0x28d)][_0x59ee94(0x294)]=_0x59ee94(0x246),document[_0x59ee94(0x19b)]('measure-result')[_0x59ee94(0x2b8)]=_0x59ee94(0x38c)+_0x55f23d+_0x59ee94(0x38e)+_0x3d1bf1+'\x20km)</div>';}}}map['on'](_0x1b67b7(0x1dc),updateMeasurement),map['on'](_0x1b67b7(0x205),updateMeasurement),map['on'](_0x1b67b7(0x307),()=>{const _0xc11195=_0x1b67b7;document[_0xc11195(0x19b)]('measure-container')[_0xc11195(0x28d)][_0xc11195(0x294)]='none';}),map['on'](_0x1b67b7(0x2d6),async()=>{const _0x502301=_0x1b67b7;try{console[_0x502301(0x386)](_0x502301(0x2ad)),checkStoredSession(),setTimeout(()=>{const _0x93cb3=_0x502301,_0x10caa4=restaurarEstadoMapa();_0x10caa4&&console[_0x93cb3(0x386)](_0x93cb3(0x1eb));},0x3e8);const [_0x14d354,_0x1c7c30,_0x5a553f,_0x3fd400,_0x9f5936,_0x199c1b,_0xd3b2df,_0x31b80e,_0xc5724e,_0x31509e]=await Promise[_0x502301(0x172)]([loadLayer('lotes'),loadLayer(_0x502301(0x139)),loadLayer(_0x502301(0x15e)),loadLayer(_0x502301(0x1ff)),loadLayer('praderas'),loadLayer(_0x502301(0x232)),loadLayer('rutas'),loadLayer('centros'),loadLayer(_0x502301(0x338)),loadLayer(_0x502301(0x25b))]);rutasData=_0xd3b2df,centrosData=_0x31b80e,fotosData=_0x31509e,groupByUrb(_0x14d354,_0x502301(0x272)),groupByUrb(_0x1c7c30,_0x502301(0x139)),groupByUrb(_0x5a553f,_0x502301(0x15e)),groupByUrb(_0x3fd400,'cotas'),groupByUrb(_0x9f5936,_0x502301(0x286)),groupByUrb(_0x199c1b,_0x502301(0x232)),groupByUrb(_0xc5724e,_0x502301(0x338)),groupByUrb(fotosData,_0x502301(0x25b)),console[_0x502301(0x386)](_0x502301(0x287),urbData),map[_0x502301(0x20f)](_0x502301(0x39e),{'type':_0x502301(0x150),'url':_0x502301(0x12f),'tileSize':0x200,'maxzoom':0xe}),map['setTerrain']({'source':_0x502301(0x39e),'exaggeration':1.5}),map['addLayer']({'id':'terrain-3d-layer','type':_0x502301(0x32f),'source':_0x502301(0x39e),'layout':{'visibility':_0x502301(0x2dd)},'paint':{'hillshade-exaggeration':0.8}}),map['addSource'](_0x502301(0x155),{'type':_0x502301(0x330),'tiles':[_0x502301(0x170),_0x502301(0x2e0),_0x502301(0x3ad),_0x502301(0x20a)],'tileSize':0x100}),map['addLayer']({'id':_0x502301(0x1bc),'type':_0x502301(0x330),'source':_0x502301(0x155),'layout':{'visibility':_0x502301(0x2dd)}});if(Object[_0x502301(0x2a1)](urbData)[_0x502301(0x36f)]===0x0){alert(_0x502301(0x373));return;}rutasData&&rutasData[_0x502301(0x190)][_0x502301(0x36f)]>0x0&&(console[_0x502301(0x386)](_0x502301(0x160)),map['addSource']('rutas',{'type':_0x502301(0x197),'data':rutasData}),map[_0x502301(0x3bd)]({'id':'rutas-line','type':_0x502301(0x1ae),'source':_0x502301(0x174),'paint':{'line-color':COLOR_PALETTE[_0x502301(0x174)]['lineColor'],'line-width':COLOR_PALETTE['rutas'][_0x502301(0x302)],'line-opacity':COLOR_PALETTE['rutas'][_0x502301(0x13c)]},'layout':{'visibility':_0x502301(0x2dd)},'minzoom':ZOOM_LEVELS[_0x502301(0x174)][_0x502301(0x1e1)],'maxzoom':ZOOM_LEVELS[_0x502301(0x174)]['maxzoom']}));if(centrosData&&centrosData[_0x502301(0x190)][_0x502301(0x36f)]>0x0){console['log'](_0x502301(0x22f)),map[_0x502301(0x20f)](_0x502301(0x1d1),{'type':'geojson','data':centrosData});const _0x54492d=[_0x502301(0x35e),_0x502301(0x2ee),_0x502301(0x340)],_0x3d0022={'centro':_0x502301(0x1c7),'oficina':'#2563eb','transporte':_0x502301(0x3a1)},_0x1920b7=(_0x443a47,_0x4f33b7)=>{return new Promise((_0x4ee4f4,_0x3a1fc6)=>{const _0x59e5b1=_0x405f,_0x4a59a6=document[_0x59e5b1(0x3bb)](_0x59e5b1(0x2fb));_0x4a59a6[_0x59e5b1(0x1a3)]=0x30,_0x4a59a6['height']=0x30;const _0x421c66=_0x4a59a6['getContext']('2d');_0x421c66[_0x59e5b1(0x37b)](),_0x421c66['arc'](0x18,0x18,0x14,0x0,0x2*Math['PI']),_0x421c66[_0x59e5b1(0x1b0)]=_0x4f33b7,_0x421c66[_0x59e5b1(0x183)](),_0x421c66[_0x59e5b1(0x278)]=_0x59e5b1(0x14f),_0x421c66['lineWidth']=0x3,_0x421c66[_0x59e5b1(0x248)](),_0x421c66[_0x59e5b1(0x196)]=_0x59e5b1(0x1d8),_0x421c66['fillStyle']=_0x59e5b1(0x14f),_0x421c66['textAlign']=_0x59e5b1(0x247),_0x421c66['textBaseline']=_0x59e5b1(0x31a);let _0x51d4de='';if(_0x443a47[_0x59e5b1(0x200)](_0x59e5b1(0x26f)))_0x51d4de='ï…';else{if(_0x443a47[_0x59e5b1(0x200)](_0x59e5b1(0x2b0)))_0x51d4de='ï†­';else{if(_0x443a47[_0x59e5b1(0x200)](_0x59e5b1(0x391)))_0x51d4de='ïˆ‡';}}_0x421c66[_0x59e5b1(0x21c)](_0x51d4de,0x18,0x18),_0x4a59a6[_0x59e5b1(0x234)](_0x56e216=>{const _0x3aea1a=_0x59e5b1,_0x12e254=new Image();_0x12e254[_0x3aea1a(0x3c2)]=()=>_0x4ee4f4(_0x12e254),_0x12e254['onerror']=_0x3a1fc6,_0x12e254[_0x3aea1a(0x1c2)]=URL[_0x3aea1a(0x2c7)](_0x56e216);});});};for(const _0x2ffedc of _0x54492d){const _0x3b76ed=CENTRO_ICONS[_0x2ffedc]||CENTRO_ICONS[_0x502301(0x19d)],_0x1a9b27=_0x3d0022[_0x2ffedc]||_0x502301(0x250);try{const _0x29c623=await _0x1920b7(_0x3b76ed,_0x1a9b27);!map[_0x502301(0x316)](_0x502301(0x313)+_0x2ffedc)&&map['addImage']('icon-'+_0x2ffedc,_0x29c623,{'sdf':![]});}catch(_0x513b59){console[_0x502301(0x202)](_0x502301(0x30f)+_0x2ffedc+':',_0x513b59);}}map[_0x502301(0x3bd)]({'id':_0x502301(0x3a3),'type':_0x502301(0x1a0),'source':_0x502301(0x1d1),'layout':{'icon-image':['case',['==',[_0x502301(0x2fe),[_0x502301(0x2f5),'TIPO']],_0x502301(0x35e)],'icon-centro',['==',[_0x502301(0x2fe),[_0x502301(0x2f5),_0x502301(0x343)]],'oficina'],_0x502301(0x288),['==',[_0x502301(0x2fe),[_0x502301(0x2f5),_0x502301(0x343)]],_0x502301(0x340)],_0x502301(0x14d),_0x502301(0x22d)],'icon-size':0.8,'icon-allow-overlap':!![],'icon-ignore-placement':!![],'visibility':'none'},'minzoom':ZOOM_LEVELS[_0x502301(0x1d1)][_0x502301(0x1e1)],'maxzoom':ZOOM_LEVELS[_0x502301(0x1d1)][_0x502301(0x144)]}),map[_0x502301(0x3bd)]({'id':_0x502301(0x1b4),'type':_0x502301(0x1a0),'source':_0x502301(0x1d1),'layout':{'text-field':[_0x502301(0x2f5),'NOMBRE'],'text-font':[_0x502301(0x320),_0x502301(0x26c)],'text-size':COLOR_PALETTE[_0x502301(0x3b7)]['centros']['textSize'],'text-offset':[0x0,0x2],'text-anchor':'top','visibility':_0x502301(0x2dd)},'paint':{'text-color':COLOR_PALETTE[_0x502301(0x3b7)][_0x502301(0x1d1)][_0x502301(0x16f)],'text-halo-color':COLOR_PALETTE[_0x502301(0x3b7)][_0x502301(0x1d1)]['haloColor'],'text-halo-width':COLOR_PALETTE[_0x502301(0x3b7)][_0x502301(0x1d1)]['haloWidth']},'minzoom':ZOOM_LEVELS[_0x502301(0x3b7)]['centros'][_0x502301(0x1e1)],'maxzoom':ZOOM_LEVELS[_0x502301(0x3b7)]['centros'][_0x502301(0x144)]}),map['on'](_0x502301(0x31e),_0x502301(0x3a3),_0x242118=>{const _0x3cc2e4=_0x502301;if(_0x242118[_0x3cc2e4(0x190)][_0x3cc2e4(0x36f)]>0x0){const _0x315c5c=_0x242118['features'][0x0],_0x27ad05=_0x315c5c[_0x3cc2e4(0x397)],_0x3193ef=generarPopupFotos(_0x27ad05);currentPopup=new mapboxgl[(_0x3cc2e4(0x130))]({'maxWidth':_0x3cc2e4(0x2c2)})[_0x3cc2e4(0x1a5)](_0x242118['lngLat'])[_0x3cc2e4(0x18e)](_0x3193ef)['addTo'](map),currentPopup['on']('close',()=>{currentPopup=null;});}}),map['on'](_0x502301(0x332),_0x502301(0x3a3),()=>{const _0x17c91a=_0x502301;map[_0x17c91a(0x1f5)]()['style'][_0x17c91a(0x1e0)]=_0x17c91a(0x1ad);}),map['on'](_0x502301(0x2eb),_0x502301(0x3a3),()=>{const _0x303d3f=_0x502301;map[_0x303d3f(0x1f5)]()['style'][_0x303d3f(0x1e0)]='';});let _0x349bb2=0x1,_0x5adb84=-0x1;setInterval(()=>{const _0x5976b5=_0x502301;_0x349bb2+=_0x5adb84*0.05,(_0x349bb2<=0.4||_0x349bb2>=0x1)&&(_0x5adb84*=-0x1),map[_0x5976b5(0x1a1)](_0x5976b5(0x3a3))&&map[_0x5976b5(0x189)](_0x5976b5(0x3a3),_0x5976b5(0x1fe),_0x349bb2);},0x32);}const _0x46595f=_0x4c4294=>{return new Promise((_0x17ead2,_0xee4999)=>{const _0x540bc2=_0x405f,_0x29d32c=document[_0x540bc2(0x3bb)](_0x540bc2(0x2fb));_0x29d32c[_0x540bc2(0x1a3)]=0x30,_0x29d32c[_0x540bc2(0x374)]=0x30;const _0x36d4b3=_0x29d32c[_0x540bc2(0x2f3)]('2d');_0x36d4b3['beginPath'](),_0x36d4b3[_0x540bc2(0x258)](0x18,0x18,0x14,0x0,0x2*Math['PI']),_0x36d4b3[_0x540bc2(0x1b0)]=_0x4c4294,_0x36d4b3[_0x540bc2(0x183)](),_0x36d4b3[_0x540bc2(0x278)]=_0x540bc2(0x14f),_0x36d4b3[_0x540bc2(0x302)]=0x3,_0x36d4b3[_0x540bc2(0x248)](),_0x36d4b3[_0x540bc2(0x196)]='bold\x2024px\x20\x22Font\x20Awesome\x206\x20Free\x22',_0x36d4b3[_0x540bc2(0x1b0)]=_0x540bc2(0x14f),_0x36d4b3[_0x540bc2(0x291)]=_0x540bc2(0x247),_0x36d4b3[_0x540bc2(0x1e4)]=_0x540bc2(0x31a),_0x36d4b3[_0x540bc2(0x21c)]('ï€°',0x18,0x18),_0x29d32c['toBlob'](_0x4406fd=>{const _0x2dcc81=_0x540bc2,_0x902f29=new Image();_0x902f29[_0x2dcc81(0x3c2)]=()=>_0x17ead2(_0x902f29),_0x902f29[_0x2dcc81(0x1d0)]=_0xee4999,_0x902f29[_0x2dcc81(0x1c2)]=URL[_0x2dcc81(0x2c7)](_0x4406fd);});});};try{const _0x1051f0=await _0x46595f(_0x502301(0x1c7));!map['hasImage'](_0x502301(0x249))&&map[_0x502301(0x2fa)](_0x502301(0x249),_0x1051f0,{'sdf':![]});}catch(_0x3b26e){console[_0x502301(0x202)]('No\x20se\x20pudo\x20cargar\x20el\x20icono\x20de\x20cÃ¡mara:',_0x3b26e);}Object[_0x502301(0x2a1)](urbData)['forEach'](_0x306037=>{const _0x53ab5b=_0x502301,_0x35e40d=urbData[_0x306037];if(_0x35e40d[_0x53ab5b(0x25b)]&&_0x35e40d['fotos'][_0x53ab5b(0x36f)]>0x0){console[_0x53ab5b(0x386)](_0x53ab5b(0x227)+_0x306037+_0x53ab5b(0x162)+_0x35e40d[_0x53ab5b(0x25b)][_0x53ab5b(0x36f)]+'\x20fotos');const _0x303229=_0x53ab5b(0x35a)+_0x306037;map[_0x53ab5b(0x20f)](_0x303229,{'type':_0x53ab5b(0x197),'data':{'type':_0x53ab5b(0x36b),'features':_0x35e40d['fotos']}}),map[_0x53ab5b(0x3bd)]({'id':_0x303229+_0x53ab5b(0x36e),'type':'symbol','source':_0x303229,'layout':{'icon-image':_0x53ab5b(0x249),'icon-size':COLOR_PALETTE[_0x53ab5b(0x25b)][_0x53ab5b(0x359)],'icon-allow-overlap':!![],'icon-ignore-placement':!![],'visibility':_0x53ab5b(0x2dd)},'minzoom':ZOOM_LEVELS[_0x53ab5b(0x25b)]['minzoom'],'maxzoom':ZOOM_LEVELS[_0x53ab5b(0x25b)][_0x53ab5b(0x144)]}),map['on'](_0x53ab5b(0x31e),_0x303229+_0x53ab5b(0x36e),_0x13cf65=>{const _0x4dd6fa=_0x53ab5b;if(_0x13cf65[_0x4dd6fa(0x190)][_0x4dd6fa(0x36f)]>0x0){const _0x329b58=_0x13cf65['features'][0x0],_0x407c93=_0x329b58[_0x4dd6fa(0x397)],_0x14d215=generarPopupFotos(_0x407c93);currentPopup=new mapboxgl[(_0x4dd6fa(0x130))]({'maxWidth':_0x4dd6fa(0x2c2)})[_0x4dd6fa(0x1a5)](_0x13cf65[_0x4dd6fa(0x393)])['setHTML'](_0x14d215)[_0x4dd6fa(0x146)](map),currentPopup['on']('close',()=>{currentPopup=null;});}}),map['on'](_0x53ab5b(0x332),_0x303229+_0x53ab5b(0x36e),()=>{const _0x4f9ded=_0x53ab5b;map[_0x4f9ded(0x1f5)]()[_0x4f9ded(0x28d)][_0x4f9ded(0x1e0)]=_0x4f9ded(0x1ad);}),map['on'](_0x53ab5b(0x2eb),_0x303229+'-symbol',()=>{const _0x4c1da9=_0x53ab5b;map[_0x4c1da9(0x1f5)]()['style'][_0x4c1da9(0x1e0)]='';});}if(_0x35e40d['lotes'][_0x53ab5b(0x36f)]>0x0){const _0x5a69d6='lotes-'+_0x306037;map[_0x53ab5b(0x20f)](_0x5a69d6,{'type':_0x53ab5b(0x197),'data':{'type':_0x53ab5b(0x36b),'features':_0x35e40d['lotes']}}),map[_0x53ab5b(0x3bd)]({'id':_0x5a69d6+_0x53ab5b(0x2d7),'type':_0x53ab5b(0x183),'source':_0x5a69d6,'paint':{'fill-color':[_0x53ab5b(0x368),[_0x53ab5b(0x2f5),_0x53ab5b(0x346)],_0x53ab5b(0x1c5),COLOR_PALETTE[_0x53ab5b(0x272)][_0x53ab5b(0x3af)],_0x53ab5b(0x23b),COLOR_PALETTE[_0x53ab5b(0x272)][_0x53ab5b(0x3b9)],_0x53ab5b(0x25e),COLOR_PALETTE['lotes'][_0x53ab5b(0x2cc)],COLOR_PALETTE[_0x53ab5b(0x272)][_0x53ab5b(0x19d)]],'fill-opacity':[_0x53ab5b(0x392),[_0x53ab5b(0x2f6),[_0x53ab5b(0x1cb),'hover'],![]],COLOR_PALETTE['lotes']['hoverOpacity'],COLOR_PALETTE[_0x53ab5b(0x272)][_0x53ab5b(0x3be)]]},'layout':{'visibility':'none'},'minzoom':ZOOM_LEVELS[_0x53ab5b(0x272)][_0x53ab5b(0x1e1)],'maxzoom':ZOOM_LEVELS[_0x53ab5b(0x272)][_0x53ab5b(0x144)]}),map[_0x53ab5b(0x3bd)]({'id':_0x5a69d6+_0x53ab5b(0x309),'type':'line','source':_0x5a69d6,'paint':{'line-color':COLOR_PALETTE[_0x53ab5b(0x272)]['borderColor'],'line-width':COLOR_PALETTE[_0x53ab5b(0x272)]['borderWidth']},'layout':{'visibility':_0x53ab5b(0x2dd)},'minzoom':ZOOM_LEVELS['lotes'][_0x53ab5b(0x1e1)],'maxzoom':ZOOM_LEVELS[_0x53ab5b(0x272)][_0x53ab5b(0x144)]}),map[_0x53ab5b(0x3bd)]({'id':_0x5a69d6+_0x53ab5b(0x1a7),'type':'symbol','source':_0x5a69d6,'layout':{'text-field':[_0x53ab5b(0x336),[_0x53ab5b(0x2f5),'lote']],'text-size':COLOR_PALETTE['labels'][_0x53ab5b(0x272)][_0x53ab5b(0x1b2)],'visibility':_0x53ab5b(0x2dd)},'paint':{'text-color':COLOR_PALETTE[_0x53ab5b(0x3b7)][_0x53ab5b(0x272)][_0x53ab5b(0x16f)],'text-halo-color':COLOR_PALETTE[_0x53ab5b(0x3b7)][_0x53ab5b(0x272)][_0x53ab5b(0x2c1)],'text-halo-width':COLOR_PALETTE[_0x53ab5b(0x3b7)]['lotes'][_0x53ab5b(0x30e)]},'minzoom':ZOOM_LEVELS[_0x53ab5b(0x3b7)][_0x53ab5b(0x272)]['minzoom'],'maxzoom':ZOOM_LEVELS[_0x53ab5b(0x3b7)][_0x53ab5b(0x272)][_0x53ab5b(0x144)]}),map['on'](_0x53ab5b(0x2f0),_0x5a69d6+'-fill',_0x1873d9=>{const _0x1f113a=_0x53ab5b;_0x1873d9[_0x1f113a(0x190)][_0x1f113a(0x36f)]>0x0&&(hoveredStateId!==null&&hoveredStateId!==_0x1873d9[_0x1f113a(0x190)][0x0]['id']&&map[_0x1f113a(0x1ed)]({'source':_0x5a69d6,'id':hoveredStateId},{'hover':![]}),hoveredStateId=_0x1873d9[_0x1f113a(0x190)][0x0]['id'],map[_0x1f113a(0x1ed)]({'source':_0x5a69d6,'id':hoveredStateId},{'hover':!![]})),map[_0x1f113a(0x1f5)]()['style'][_0x1f113a(0x1e0)]=_0x1f113a(0x1ad);}),map['on']('mouseleave',_0x5a69d6+_0x53ab5b(0x2d7),()=>{const _0x4ede68=_0x53ab5b;hoveredStateId!==null&&map[_0x4ede68(0x1ed)]({'source':_0x5a69d6,'id':hoveredStateId},{'hover':![]}),hoveredStateId=null,map['getCanvas']()['style'][_0x4ede68(0x1e0)]='';}),map['on']('click',_0x5a69d6+_0x53ab5b(0x2d7),_0x318340=>{const _0x34ccca=_0x53ab5b;if(_0x318340[_0x34ccca(0x190)]['length']>0x0){const _0x2af9fd=_0x318340[_0x34ccca(0x190)][0x0],_0x1f9348=_0x2af9fd[_0x34ccca(0x397)];if(modoSeleccionMapa){const _0x4777b7=_0x1f9348[idFieldName],_0x464e88=_0x1f9348['lote'],_0x5d9374=_0x1f9348[_0x34ccca(0x1c0)],_0x3b54cd=_0x1f9348[_0x34ccca(0x300)],_0x192bf3=lotesDisponiblesParaCobro[_0x34ccca(0x19a)](_0x3d4781=>_0x3d4781[_0x34ccca(0x342)]===_0x4777b7);if(_0x192bf3){const _0xcb71a4=document[_0x34ccca(0x19b)](_0x34ccca(0x1aa));_0xcb71a4[_0x34ccca(0x27c)]=_0x4777b7;const _0x495d73=new Event(_0x34ccca(0x29c));_0xcb71a4[_0x34ccca(0x270)](_0x495d73),desactivarModoSeleccionMapa();const _0x2210d6=_0x5d9374?_0x34ccca(0x210)+_0x5d9374+'\x20':'';alert('âœ…\x20'+_0x2210d6+_0x34ccca(0x132)+_0x464e88+_0x34ccca(0x293));}else alert(_0x34ccca(0x308));return;}currentUrb=_0x306037,currentFeatureId=_0x1f9348[idFieldName];const _0x1cbbae=generarPopupContent(_0x1f9348,![]);currentPopup=new mapboxgl[(_0x34ccca(0x130))]()[_0x34ccca(0x1a5)](_0x318340[_0x34ccca(0x393)])[_0x34ccca(0x18e)](_0x1cbbae)[_0x34ccca(0x146)](map),currentPopup['on'](_0x34ccca(0x1ef),()=>{currentPopup=null,currentFeatureId=null,currentUrb=null;});}});}[_0x53ab5b(0x338),_0x53ab5b(0x139),_0x53ab5b(0x15e),_0x53ab5b(0x1ff),_0x53ab5b(0x286),_0x53ab5b(0x232)][_0x53ab5b(0x12b)](_0x1375e3=>{const _0x48f0a1=_0x53ab5b;if(_0x35e40d[_0x1375e3]&&_0x35e40d[_0x1375e3][_0x48f0a1(0x36f)]>0x0){const _0xefbb2b=_0x1375e3+'-'+_0x306037;map[_0x48f0a1(0x20f)](_0xefbb2b,{'type':_0x48f0a1(0x197),'data':{'type':_0x48f0a1(0x36b),'features':_0x35e40d[_0x1375e3]}});(_0x1375e3===_0x48f0a1(0x338)||_0x1375e3===_0x48f0a1(0x139)||_0x1375e3===_0x48f0a1(0x286)||_0x1375e3===_0x48f0a1(0x232))&&map[_0x48f0a1(0x3bd)]({'id':_0xefbb2b+'-fill','type':_0x48f0a1(0x183),'source':_0xefbb2b,'paint':{'fill-color':COLOR_PALETTE[_0x1375e3][_0x48f0a1(0x14b)],'fill-opacity':COLOR_PALETTE[_0x1375e3][_0x48f0a1(0x335)]},'layout':{'visibility':_0x48f0a1(0x2dd)},'minzoom':ZOOM_LEVELS[_0x1375e3][_0x48f0a1(0x1e1)],'maxzoom':ZOOM_LEVELS[_0x1375e3]['maxzoom']});map[_0x48f0a1(0x3bd)]({'id':_0xefbb2b+_0x48f0a1(0x309),'type':_0x48f0a1(0x1ae),'source':_0xefbb2b,'paint':{'line-color':COLOR_PALETTE[_0x1375e3]['lineColor'],'line-width':COLOR_PALETTE[_0x1375e3][_0x48f0a1(0x302)],'line-opacity':COLOR_PALETTE[_0x1375e3][_0x48f0a1(0x13c)]},'layout':{'visibility':_0x48f0a1(0x2dd)},'minzoom':ZOOM_LEVELS[_0x1375e3]['minzoom'],'maxzoom':ZOOM_LEVELS[_0x1375e3][_0x48f0a1(0x144)]});if(_0x1375e3!=='veredas'){const _0x3b002e=_0x1375e3===_0x48f0a1(0x139)?'manzano':_0x1375e3===_0x48f0a1(0x15e)?'clase':_0x1375e3===_0x48f0a1(0x1ff)?_0x48f0a1(0x24c):'nombre';map[_0x48f0a1(0x3bd)]({'id':_0xefbb2b+_0x48f0a1(0x1a7),'type':'symbol','source':_0xefbb2b,'layout':{'text-field':[_0x48f0a1(0x336),[_0x48f0a1(0x2f5),_0x3b002e]],'text-size':COLOR_PALETTE[_0x48f0a1(0x3b7)][_0x1375e3][_0x48f0a1(0x1b2)],'symbol-placement':_0x1375e3===_0x48f0a1(0x15e)||_0x1375e3==='cotas'?_0x48f0a1(0x363):_0x48f0a1(0x179),'text-anchor':_0x1375e3===_0x48f0a1(0x15e)||_0x1375e3==='cotas'?undefined:_0x48f0a1(0x247),'visibility':_0x48f0a1(0x2dd)},'paint':{'text-color':COLOR_PALETTE[_0x48f0a1(0x3b7)][_0x1375e3][_0x48f0a1(0x16f)],'text-halo-color':COLOR_PALETTE[_0x48f0a1(0x3b7)][_0x1375e3]['haloColor'],'text-halo-width':COLOR_PALETTE['labels'][_0x1375e3][_0x48f0a1(0x30e)]},'minzoom':ZOOM_LEVELS[_0x48f0a1(0x3b7)][_0x1375e3][_0x48f0a1(0x1e1)],'maxzoom':ZOOM_LEVELS[_0x48f0a1(0x3b7)][_0x1375e3][_0x48f0a1(0x144)]});}}});});const _0x19c77c=document[_0x502301(0x19b)]('urb-layers');Object[_0x502301(0x2a1)](urbData)['forEach'](_0x502414=>{const _0x5b16f2=_0x502301,_0x276532=document[_0x5b16f2(0x3bb)](_0x5b16f2(0x315));_0x276532[_0x5b16f2(0x296)]=_0x5b16f2(0x224);const _0x3a0747=document[_0x5b16f2(0x3bb)](_0x5b16f2(0x1e2));_0x3a0747[_0x5b16f2(0x394)]=_0x5b16f2(0x1da),_0x3a0747['id']='urb-'+_0x502414,_0x3a0747[_0x5b16f2(0x1ee)]('change',_0x406cdd=>{const _0x4822c7=_0x5b16f2,_0x4e02e7=_0x406cdd[_0x4822c7(0x334)][_0x4822c7(0x31c)]?_0x4822c7(0x175):_0x4822c7(0x2dd);[_0x4822c7(0x272),_0x4822c7(0x139),_0x4822c7(0x15e),_0x4822c7(0x1ff),_0x4822c7(0x286),_0x4822c7(0x232),_0x4822c7(0x338)][_0x4822c7(0x12b)](_0x44b6db=>{const _0x3fc6ae=_0x4822c7,_0x72adf6=_0x44b6db+'-'+_0x502414;[_0x3fc6ae(0x183),'line',_0x3fc6ae(0x1fc)][_0x3fc6ae(0x12b)](_0x32d00b=>{const _0x3fab8e=_0x3fc6ae,_0x2b50eb=_0x72adf6+'-'+_0x32d00b;map[_0x3fab8e(0x1a1)](_0x2b50eb)&&map[_0x3fab8e(0x194)](_0x2b50eb,'visibility',_0x4e02e7);});});if(_0x406cdd[_0x4822c7(0x334)][_0x4822c7(0x31c)]&&urbData[_0x502414]){const _0x5bee56=[...urbData[_0x502414][_0x4822c7(0x272)],...urbData[_0x502414][_0x4822c7(0x139)],...urbData[_0x502414]['vias'],...urbData[_0x502414][_0x4822c7(0x1ff)],...urbData[_0x502414][_0x4822c7(0x286)],...urbData[_0x502414][_0x4822c7(0x232)],...urbData[_0x502414][_0x4822c7(0x338)]];_0x5bee56['length']>0x0&&zoomToFeatures(_0x5bee56);}});const _0x2ee68f=document[_0x5b16f2(0x3bb)](_0x5b16f2(0x1fc));_0x2ee68f['htmlFor']='urb-'+_0x502414,_0x2ee68f[_0x5b16f2(0x177)]=URB_NOMBRES[_0x502414]||_0x5b16f2(0x1b7)+_0x502414;const _0xa6b66d=document[_0x5b16f2(0x3bb)]('i');_0xa6b66d[_0x5b16f2(0x296)]='fas\x20fa-crosshairs',_0x276532[_0x5b16f2(0x1cf)](_0x3a0747),_0x276532[_0x5b16f2(0x1cf)](_0x2ee68f),_0x276532['appendChild'](_0xa6b66d),_0x19c77c[_0x5b16f2(0x1cf)](_0x276532);});const _0x15eb88=document[_0x502301(0x19b)](_0x502301(0x171)),_0x291229=[{'id':'mapbox-base','label':'Mapbox\x20Streets','icon':'fas\x20fa-map','checked':!![],'layer':'mapbox'},{'id':_0x502301(0x32d),'label':_0x502301(0x2aa),'icon':'fas\x20fa-mountain','checked':![],'layer':_0x502301(0x32d)},{'id':_0x502301(0x2b4),'label':_0x502301(0x35f),'icon':_0x502301(0x2b5),'checked':![],'layer':_0x502301(0x2b4)},{'id':_0x502301(0x155),'label':_0x502301(0x2a2),'icon':_0x502301(0x344),'checked':![],'layer':_0x502301(0x155)}];_0x291229[_0x502301(0x12b)](_0x51f431=>{const _0x1fa87e=_0x502301,_0x2caa30=document[_0x1fa87e(0x3bb)]('div');_0x2caa30[_0x1fa87e(0x296)]=_0x1fa87e(0x224);const _0x4ac90f=document[_0x1fa87e(0x3bb)](_0x1fa87e(0x1e2));_0x4ac90f['type']='radio',_0x4ac90f[_0x1fa87e(0x147)]='base-layer',_0x4ac90f['id']=_0x51f431['id'],_0x4ac90f[_0x1fa87e(0x31c)]=_0x51f431['checked'],_0x4ac90f[_0x1fa87e(0x1ee)](_0x1fa87e(0x29c),()=>{const _0x4405c5=_0x1fa87e;if(_0x51f431['layer']===_0x4405c5(0x398))map[_0x4405c5(0x194)](_0x4405c5(0x229),_0x4405c5(0x2ef),'none'),map[_0x4405c5(0x194)](_0x4405c5(0x1bc),_0x4405c5(0x2ef),_0x4405c5(0x2dd)),map[_0x4405c5(0x12c)](0x0),map['setTerrain'](null),currentBaseLayer=_0x4405c5(0x398);else{if(_0x51f431[_0x4405c5(0x37a)]===_0x4405c5(0x32d))map[_0x4405c5(0x194)](_0x4405c5(0x229),_0x4405c5(0x2ef),_0x4405c5(0x175)),map[_0x4405c5(0x194)](_0x4405c5(0x1bc),_0x4405c5(0x2ef),_0x4405c5(0x2dd)),map[_0x4405c5(0x375)]({'source':'mapbox-dem','exaggeration':1.5}),map[_0x4405c5(0x25f)]({'pitch':0x3c,'duration':0x3e8}),currentBaseLayer=_0x4405c5(0x32d);else{if(_0x51f431['layer']===_0x4405c5(0x2b4))map[_0x4405c5(0x194)]('terrain-3d-layer',_0x4405c5(0x2ef),_0x4405c5(0x2dd)),map[_0x4405c5(0x194)](_0x4405c5(0x1bc),_0x4405c5(0x2ef),_0x4405c5(0x175)),map[_0x4405c5(0x375)]({'source':_0x4405c5(0x39e),'exaggeration':1.5}),map[_0x4405c5(0x25f)]({'pitch':0x3c,'duration':0x3e8}),currentBaseLayer=_0x4405c5(0x2b4);else _0x51f431[_0x4405c5(0x37a)]===_0x4405c5(0x155)&&(map[_0x4405c5(0x194)](_0x4405c5(0x1bc),_0x4405c5(0x2ef),_0x4405c5(0x175)),map[_0x4405c5(0x194)](_0x4405c5(0x229),'visibility',_0x4405c5(0x2dd)),map[_0x4405c5(0x12c)](0x0),map[_0x4405c5(0x375)](null),currentBaseLayer=_0x4405c5(0x155));}}updateMeasureVisibility();});const _0x11d52f=document[_0x1fa87e(0x3bb)]('label');_0x11d52f['htmlFor']=_0x51f431['id'],_0x11d52f[_0x1fa87e(0x177)]=_0x51f431[_0x1fa87e(0x1fc)];const _0x1864de=document['createElement']('i');_0x1864de[_0x1fa87e(0x296)]=_0x51f431[_0x1fa87e(0x14c)],_0x2caa30[_0x1fa87e(0x1cf)](_0x4ac90f),_0x2caa30[_0x1fa87e(0x1cf)](_0x11d52f),_0x2caa30[_0x1fa87e(0x1cf)](_0x1864de),_0x15eb88['appendChild'](_0x2caa30);}),console[_0x502301(0x386)](_0x502301(0x2d5)),console[_0x502301(0x386)](_0x502301(0x38d)),console['log']('\x20\x20\x20âœ…\x20Mapa\x203D\x20con\x20visualizaciÃ³n\x20de\x20relieve'),console['log']('\x20\x20\x20âœ…\x20Imagen\x20satelital\x203D\x20con\x20relieve'),console[_0x502301(0x386)]('\x20\x20\x20âœ…\x20Capa\x20de\x20fotos\x20con\x20popups\x20interactivos\x20y\x20pantalla\x20completa'),console[_0x502301(0x386)](_0x502301(0x2f4)),console[_0x502301(0x386)](_0x502301(0x28a)),console['log']('\x20\x20\x20âœ…\x20EdiciÃ³n\x20de\x20estados\x20CORREGIDA\x20(usando\x20gid)'),console[_0x502301(0x386)](_0x502301(0x1d4)),console['log'](_0x502301(0x1f7)),console[_0x502301(0x386)](_0x502301(0x371)),console[_0x502301(0x386)](_0x502301(0x38a));}catch(_0x3b1297){console[_0x502301(0x274)](_0x502301(0x135),_0x3b1297),alert(_0x502301(0x3b1)+_0x3b1297['message']);}});let loteSeleccionadoCobro=null,cobrosDelLote=[],modoSeleccionMapa=![],lotesDisponiblesParaCobro=[];document[_0x1b67b7(0x19b)](_0x1b67b7(0x22c))['addEventListener'](_0x1b67b7(0x31e),async()=>{const _0x1827a2=_0x1b67b7;if(!isUserLoggedIn){alert('Debe\x20iniciar\x20sesiÃ³n\x20para\x20acceder\x20al\x20mÃ³dulo\x20de\x20cobros'),document[_0x1827a2(0x19b)](_0x1827a2(0x323))[_0x1827a2(0x28d)][_0x1827a2(0x294)]=_0x1827a2(0x1b1);return;}document[_0x1827a2(0x19b)](_0x1827a2(0x349))[_0x1827a2(0x28d)][_0x1827a2(0x294)]=_0x1827a2(0x1b1);const _0x4e6a43=document[_0x1827a2(0x19b)]('cobros-urb-select');_0x4e6a43['innerHTML']=_0x1827a2(0x376),Object['keys'](URB_NOMBRES)['forEach'](_0x5a2b73=>{const _0x138f4b=_0x1827a2,_0x13cf94=document[_0x138f4b(0x3bb)](_0x138f4b(0x29b));_0x13cf94[_0x138f4b(0x27c)]=_0x5a2b73,_0x13cf94['textContent']=URB_NOMBRES[_0x5a2b73],_0x4e6a43[_0x138f4b(0x1cf)](_0x13cf94);});}),document[_0x1b67b7(0x19b)](_0x1b67b7(0x2e4))[_0x1b67b7(0x1ee)](_0x1b67b7(0x31e),()=>{const _0x378959=_0x1b67b7;document[_0x378959(0x19b)](_0x378959(0x349))[_0x378959(0x28d)][_0x378959(0x294)]=_0x378959(0x2dd),modoSeleccionMapa&&desactivarModoSeleccionMapa(),document['getElementById'](_0x378959(0x327))['value']='',limpiarSeleccionCobro();}),document['getElementById'](_0x1b67b7(0x1c8))['addEventListener'](_0x1b67b7(0x29c),async _0x14151d=>{const _0x40b58f=_0x1b67b7,_0x29f968=_0x14151d[_0x40b58f(0x334)][_0x40b58f(0x27c)],_0x675a2=document[_0x40b58f(0x19b)]('cobros-lote-select'),_0x2dcbd0=document[_0x40b58f(0x19b)](_0x40b58f(0x327)),_0x2179c5=document[_0x40b58f(0x19b)](_0x40b58f(0x134));if(!_0x29f968){_0x675a2[_0x40b58f(0x23a)]=!![],_0x2dcbd0[_0x40b58f(0x23a)]=!![],_0x2179c5[_0x40b58f(0x23a)]=!![],_0x675a2['innerHTML']='<option\x20value=\x22\x22>Seleccione\x20urbanizaciÃ³n\x20primero...</option>',lotesDisponiblesParaCobro=[],limpiarSeleccionCobro();return;}try{const {data:_0x5cd9dd,error:_0x1118a6}=await supabaseClient['from'](_0x40b58f(0x272))['select'](_0x40b58f(0x1bb))['eq'](_0x40b58f(0x300),_0x29f968)['in']('estado',[_0x40b58f(0x1c5),_0x40b58f(0x25e)])[_0x40b58f(0x372)]('manzano,\x20lote');if(_0x1118a6)throw _0x1118a6;lotesDisponiblesParaCobro=_0x5cd9dd||[],lotesDisponiblesParaCobro[_0x40b58f(0x36f)]>0x0?(renderizarListaLotes(lotesDisponiblesParaCobro),_0x675a2[_0x40b58f(0x23a)]=![],_0x2dcbd0['disabled']=![],_0x2179c5[_0x40b58f(0x23a)]=![]):(_0x675a2[_0x40b58f(0x2b8)]=_0x40b58f(0x215),_0x675a2[_0x40b58f(0x23a)]=!![],_0x2dcbd0[_0x40b58f(0x23a)]=!![],_0x2179c5[_0x40b58f(0x23a)]=!![],lotesDisponiblesParaCobro=[]),limpiarSeleccionCobro();}catch(_0x394e08){console['error'](_0x40b58f(0x239),_0x394e08),alert(_0x40b58f(0x369));}}),document[_0x1b67b7(0x19b)]('cobros-lote-select')[_0x1b67b7(0x1ee)](_0x1b67b7(0x29c),async _0x12f9b9=>{const _0x20216e=_0x1b67b7,_0x3d354e=_0x12f9b9[_0x20216e(0x334)][_0x20216e(0x27c)];if(!_0x3d354e){limpiarSeleccionCobro();return;}const _0x253f3a=_0x12f9b9[_0x20216e(0x334)][_0x20216e(0x2cf)][_0x12f9b9[_0x20216e(0x334)]['selectedIndex']];loteSeleccionadoCobro=JSON[_0x20216e(0x230)](_0x253f3a[_0x20216e(0x212)][_0x20216e(0x199)]),await cargarHistorialCobros(_0x3d354e),mostrarInfoLote(),document[_0x20216e(0x19b)](_0x20216e(0x262))[_0x20216e(0x23a)]=![];});async function cargarHistorialCobros(_0x4a1663){const _0x3c10d2=_0x1b67b7;try{const {data:_0x5bd106,error:_0x33ff6d}=await supabaseClient['from'](_0x3c10d2(0x1f9))['select']('*')['eq'](_0x3c10d2(0x2a9),_0x4a1663)['order'](_0x3c10d2(0x333),{'ascending':!![]});if(_0x33ff6d)throw _0x33ff6d;cobrosDelLote=_0x5bd106||[],mostrarHistorialCobros();}catch(_0x54c959){console[_0x3c10d2(0x274)]('Error\x20cargando\x20historial:',_0x54c959),cobrosDelLote=[],mostrarHistorialCobros();}}function mostrarHistorialCobros(){const _0x28d952=_0x1b67b7,_0x48539d=document[_0x28d952(0x19b)](_0x28d952(0x166));if(cobrosDelLote[_0x28d952(0x36f)]===0x0){_0x48539d[_0x28d952(0x2b8)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22text-align:\x20center;\x20color:\x20#64748b;\x20padding:\x2040px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20No\x20hay\x20cobros\x20registrados\x20para\x20este\x20lote\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';return;}let _0x5f1f29=0x0,_0x44239e=_0x28d952(0x16a);cobrosDelLote[_0x28d952(0x12b)](_0x49f405=>{const _0x2cb1f1=_0x28d952;_0x5f1f29+=parseFloat(_0x49f405[_0x2cb1f1(0x23f)]);const _0x40e4cc=new Date(_0x49f405[_0x2cb1f1(0x161)])[_0x2cb1f1(0x379)](_0x2cb1f1(0x367));_0x44239e+=_0x2cb1f1(0x329)+_0x49f405[_0x2cb1f1(0x333)]+_0x2cb1f1(0x1bd)+_0x49f405[_0x2cb1f1(0x23f)][_0x2cb1f1(0x2a5)](_0x2cb1f1(0x367),{'minimumFractionDigits':0x2})+_0x2cb1f1(0x2d8)+_0x40e4cc+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x49f405[_0x2cb1f1(0x2b3)]?_0x2cb1f1(0x2f1)+_0x49f405['nro_factura']+_0x2cb1f1(0x2f7):'')+_0x2cb1f1(0x19c)+_0x49f405[_0x2cb1f1(0x158)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x44239e+='</div>',_0x48539d[_0x28d952(0x2b8)]=_0x44239e,document[_0x28d952(0x19b)]('info-total-cobrado')[_0x28d952(0x177)]=_0x28d952(0x2cb)+_0x5f1f29[_0x28d952(0x2a5)](_0x28d952(0x367),{'minimumFractionDigits':0x2});const _0x861523=parseFloat(loteSeleccionadoCobro[_0x28d952(0x18f)]||0x0),_0x120edc=_0x861523-_0x5f1f29;document[_0x28d952(0x19b)](_0x28d952(0x35d))['textContent']=_0x28d952(0x2cb)+_0x120edc[_0x28d952(0x2a5)](_0x28d952(0x367),{'minimumFractionDigits':0x2});}function mostrarInfoLote(){const _0x28f72a=_0x1b67b7;document[_0x28f72a(0x19b)]('cobros-lote-info')[_0x28f72a(0x28d)]['display']=_0x28f72a(0x246),document['getElementById']('info-cliente')[_0x28f72a(0x177)]=loteSeleccionadoCobro[_0x28f72a(0x290)]||_0x28f72a(0x31d),document[_0x28f72a(0x19b)]('info-precio')[_0x28f72a(0x177)]=loteSeleccionadoCobro[_0x28f72a(0x136)]?_0x28f72a(0x3a8)+parseFloat(loteSeleccionadoCobro[_0x28f72a(0x136)])[_0x28f72a(0x2a5)]('es-BO',{'minimumFractionDigits':0x2}):_0x28f72a(0x1d9);}function limpiarSeleccionCobro(){const _0x1fe66c=_0x1b67b7;loteSeleccionadoCobro=null,cobrosDelLote=[],document[_0x1fe66c(0x19b)](_0x1fe66c(0x164))[_0x1fe66c(0x28d)]['display']=_0x1fe66c(0x2dd),document[_0x1fe66c(0x19b)](_0x1fe66c(0x262))[_0x1fe66c(0x23a)]=!![],document[_0x1fe66c(0x19b)](_0x1fe66c(0x166))[_0x1fe66c(0x2b8)]=_0x1fe66c(0x1c9);}function renderizarListaLotes(_0xd68a80){const _0x54be42=_0x1b67b7,_0x4e3de5=document[_0x54be42(0x19b)](_0x54be42(0x1aa));_0x4e3de5[_0x54be42(0x2b8)]='';if(_0xd68a80[_0x54be42(0x36f)]===0x0){const _0x1933bf=document['createElement'](_0x54be42(0x29b));_0x1933bf[_0x54be42(0x27c)]='',_0x1933bf[_0x54be42(0x177)]=_0x54be42(0x235),_0x4e3de5[_0x54be42(0x1cf)](_0x1933bf);return;}_0xd68a80[_0x54be42(0x12b)](_0x3e177e=>{const _0x45f6ad=_0x54be42,_0x36bcac=document[_0x45f6ad(0x3bb)](_0x45f6ad(0x29b));_0x36bcac[_0x45f6ad(0x27c)]=_0x3e177e[_0x45f6ad(0x342)];const _0x47fbbc=_0x3e177e[_0x45f6ad(0x1c0)]?'Mz\x20'+_0x3e177e[_0x45f6ad(0x1c0)]+'\x20':'';_0x36bcac[_0x45f6ad(0x177)]=_0x47fbbc+_0x45f6ad(0x132)+_0x3e177e[_0x45f6ad(0x2df)]+_0x45f6ad(0x162)+(_0x3e177e['nom_cliente']||_0x45f6ad(0x35c))+'\x20('+_0x3e177e['estado']+')',_0x36bcac[_0x45f6ad(0x212)]['loteData']=JSON[_0x45f6ad(0x16d)](_0x3e177e),_0x4e3de5[_0x45f6ad(0x1cf)](_0x36bcac);});}function _0x3f36(){const _0x24e176=['info-saldo','centro','SatÃ©lite\x203D\x20con\x20Relieve','âŒ\x20Error\x20al\x20exportar\x20Excel:','url','!\x0a\x0aAhora\x20tienes\x20acceso\x20completo\x20a\x20todas\x20las\x20funcionalidades.','line-center','toString','areTilesLoaded','âœ¨\x20Funcionalidades\x20activas:','es-BO','match','Error\x20al\x20cargar\x20los\x20lotes','.xlsx','FeatureCollection','\x22\x20style=\x22position:\x20absolute;\x20top:\x2050%;\x20left:\x2050%;\x20transform:\x20translate(-50%,\x20-50%);\x20text-align:\x20center;\x20z-index:\x201;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22\x20style=\x22font-size:\x2032px;\x20color:\x20#001562;\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22margin-top:\x2010px;\x20font-size:\x2012px;\x20color:\x20#64748b;\x22>Cargando\x20imagen...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id=\x22photo-img-','HTTP\x20','-symbol','length','<div\x20class=\x22popup-field\x20full-width\x22><strong>CAMBIAR\x20ESTADO:</strong><select\x20id=\x22estado-select-','\x20\x20\x20âœ…\x20MÃ³dulo\x20de\x20cobros\x20completo','order','No\x20se\x20encontraron\x20datos\x20con\x20campo\x20URB','height','setTerrain','<option\x20value=\x22\x22>Seleccione...</option>','user-btn','transform','toLocaleDateString','layer','beginPath','substring','URL','slice',').\x20Â¿Desea\x20continuar?','ðŸ“¸\x20Generando\x20popup\x20para:','form-cuota-mensual','pitch','#ff0000','layer-centros','fas\x20fa-map-pin','log','abrirFormularioReporte','form-observaciones','1089900sMikdR','\x20\x20\x20âœ…\x20Persistencia\x20de\x20estado\x20en\x20mÃ³vil','substr','<div\x20style=\x22font-size:\x2014px;\x20font-weight:\x20600;\x20color:\x20var(--primary-color);\x22>','âœ¨\x20MEJORAS\x20IMPLEMENTADAS:','\x20m</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:\x2011px;\x20color:\x20#64748b;\x20margin-top:\x202px;\x22>(','background','max-width:\x2090%;\x20max-height:\x2085vh;\x20object-fit:\x20contain;\x20border-radius:\x208px;\x20box-shadow:\x200\x2025px\x2050px\x20-12px\x20rgba(0,\x200,\x200,\x200.5);\x20cursor:\x20default;\x20animation:\x20zoomIn\x200.3s\x20ease;','bus','case','lngLat','type','observaciones','ðŸŽ¯\x20Feature\x20ID:','properties','mapbox','<div>','login-form-container','layer-fotos','Error:\x20No\x20hay\x20datos\x20del\x20lote','add','mapbox-dem','ABOARQ','objectid','#16a34a','\x27)\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22fullscreen-btn-','centros-symbol','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20src=\x22','venta-celular','\x20\x20\x20ðŸ“¦\x20Lote\x20','\x20cargado\x20para\x20Excel','$us\x20','toLowerCase','getCenter','VER\x20UBICACIÃ“N\x20EN\x20GOOGLE\x20MAPS:','cssText','https://mt2.google.com/vt/lyrs=y&x={x}&y={y}&z={z}','Sin\x20tÃ­tulo','vendido','Supm2','Error\x20cargando\x20capas:\x20','\x22\x20onclick=\x22window.abrirImagenPantallaCompleta(\x27','\x20mÂ²','lotes-','Map','nuevoEstado','labels','pk.eyJ1Ijoicm9tdWxvY29yZGVybyIsImEiOiJjbWd4emVpeW0wNWEyMmxxOWZnaDJrMGQ2In0.0t1RZwHup3NH5Y_M3UN6pA','disponible','json','createElement','form-lote','addLayer','opacity','location','contains','<div\x20class=\x22popup-field\x22><strong>PRECIO:</strong><div\x20class=\x22value\x22>','onload','setTextColor','password','forEach','setPitch','</option>','removeLayer','mapbox://mapbox.mapbox-terrain-dem-v1','Popup','setData','Lt\x20','now','seleccionar-desde-mapa-btn','âŒ\x20Error\x20general\x20cargando\x20capas:','precio_vent','tipo_venta','selected','manzanos','SERVICIOS\x20DISPONIBLES','Lote_','lineOpacity','meters','#reporte-form\x20input[type=\x22checkbox\x22]:checked','LngLatBounds','setDrawColor','vendedor','PRECIO\x20AL\x20CONTADO','triggerRepaint','maxzoom','Lote\x20NÂ°:','addTo','name','reporte-modal','geometry','fas\x20fa-building','fillColor','icon','icon-transporte','https://fjgfhagxeuhgsdiefrik.supabase.co','#ffffff','raster-dem','Cuota\x20Mensual:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-bottom:\x208px;\x20padding:\x208px\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20style=\x22color:\x20#001562;\x20font-size:\x2011px;\x20text-transform:\x20uppercase;\x20display:\x20flex;\x20align-items:\x20center;\x20gap:\x205px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-align-left\x22></i>\x20DescripciÃ³n:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22color:\x20#334155;\x20font-size:\x2013px;\x20font-weight:\x20500;\x20margin-top:\x203px;\x22>','onmouseover','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','google-satellite','ðŸ“¤\x20Enviando\x20a\x20Supabase\x20(sin\x20datos\x20de\x20venta):','\x20registros\x20acumulados)','usuario','logged-username','img','editarEstado','accessToken','count=exact','vias','DÃ³lares\x20$.\x20','ðŸ›£ï¸\x20Agregando\x20capa\x20de\x20Rutas...','fecha_cobro','\x20-\x20','scale(1.05)','cobros-lote-info','<button\x20class=\x22popup-btn\x22\x20onclick=\x22window.guardarEstado(','cobros-historial','venta-tipo','\x27).style.display=\x27block\x27;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22document.getElementById(\x27photo-loading-','addControl','<div\x20style=\x22display:\x20grid;\x20gap:\x2010px;\x22>','</span></div></div>','toISOString','stringify','findIndex','textColor','https://mt0.google.com/vt/lyrs=y&x={x}&y={y}&z={z}','base-layers','all','onLine','rutas','visible','https://www.google.com/maps?q=','textContent','<div\x20class=\x22popup-field\x22><strong>LOTE:</strong><div\x20class=\x22value\x22>','point','âœ…\x20Datos\x20locales\x20actualizados\x20en\x20urbData','querySelectorAll','SIN_URB','removeSource','toggle-sidebar','pointerEvents','ðŸ“¥\x20Respuesta\x20de\x20Supabase:','PLAYA\x20BLANCA','<div\x20class=\x22popup-field\x22><strong>ESTADO:</strong><div\x20class=\x22value\x22><span\x20class=\x22estado-badge\x22\x20style=\x22background:','fill','info-btn','/rest/v1/','Â¿EstÃ¡s\x20seguro\x20que\x20deseas\x20cerrar\x20sesiÃ³n?','FOTO','#04593e','setPaintProperty','<button\x20class=\x22popup-btn\x22\x20onclick=\x22window.cancelarEdicion(','2058162PtRuQZ','</div>','<div\x20style=\x22margin-top:\x2010px;\x20padding:\x2010px;\x20background:\x20#fef3c7;\x20border-left:\x204px\x20solid\x20#f59e0b;\x20border-radius:\x204px;\x20font-size:\x2011px;\x20color:\x20#92400e;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lock\x22></i>\x20<strong>Funciones\x20restringidas</strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Contactate\x20con\x20el\x20administrador.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','setHTML','monto_bs','features','SOL\x20Y\x20LUNA\x20URBANIZACIONES','href','crosshair','setLayoutProperty','\x20\x20\x20âœ…\x20ExportaciÃ³n\x20a\x20Excel','font','geojson','âœ…\x20Estado\x20actualizado\x20exitosamente\x20(sin\x20datos\x20de\x20venta\x20registrados)','loteData','find','getElementById','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22margin:\x203px\x200;\x22><i\x20class=\x22fas\x20fa-user\x22></i>\x20Registrado\x20por:\x20','default','admin','nuevo-cobro-fecha','symbol','getLayer','Buscar\x20lugares\x20en\x20Bolivia...','width','Plazo:','setLngLat','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22padding:\x2020px;\x20background:\x20#fef3c7;\x20border-radius:\x208px;\x20text-align:\x20center;\x20margin-bottom:\x2010px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x22\x20style=\x22font-size:\x2024px;\x20color:\x20#f59e0b;\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22margin-top:\x2010px;\x20font-size:\x2013px;\x20color:\x20#92400e;\x22><strong>No\x20hay\x20foto\x20disponible</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20style=\x22color:\x20#92400e;\x22>El\x20campo\x20FOTO\x20estÃ¡\x20vacÃ­o</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','-label','mapbox-base','<div\x20class=\x22popup-field\x22><strong>MANZANO:</strong><div\x20class=\x22value\x22>','cobros-lote-select','âš ï¸\x20Debes\x20iniciar\x20sesiÃ³n\x20para\x20generar\x20cotizaciones.\x0a\x0aHaz\x20clic\x20en\x20el\x20botÃ³n\x20de\x20usuario\x20para\x20iniciar\x20sesiÃ³n.','fid','pointer','line','form-cuota-inicial','fillStyle','flex','textSize','<button\x20class=\x22popup-btn\x22\x20onclick=\x22window.editarEstado(','centros-label','âœ…\x20Excel\x20generado\x20exitosamente!\x0a\x0aArchivo:\x20','mapbox://styles/mapbox/streets-v12','URB:\x20','reset','image/png','setItem','gid,\x20lote,\x20manzano,\x20estado,\x20nom_cliente,\x20precio_vent,\x20monto_bs','google-satellite-layer','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style=\x22font-size:\x2018px;\x20font-weight:\x20700;\x20color:\x20#059669;\x22>Bs\x20','#006400','text','manzano','username','src','logout-btn','#00008b','VENDIDO','Error\x20restaurando\x20estado\x20del\x20mapa:','#e11d48','cobros-urb-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22text-align:\x20center;\x20color:\x20#64748b;\x20padding:\x2040px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Seleccione\x20un\x20lote\x20para\x20ver\x20su\x20historial\x20de\x20cobros\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20','âš ï¸\x20Debes\x20iniciar\x20sesiÃ³n\x20para\x20editar\x20estados.\x0a\x0aHaz\x20clic\x20en\x20el\x20botÃ³n\x20de\x20usuario\x20para\x20iniciar\x20sesiÃ³n.','feature-state','select','âŒ\x20Error\x20al\x20guardar:','title','appendChild','onerror','centros','582043aJYcmo','âœ…\x20SesiÃ³n\x20cerrada\x20exitosamente','\x20\x20\x20âœ…\x20Carga\x20optimizada\x20de\x20datos','PATCH','split','venta-monto-bs','bold\x2024px\x20\x22Font\x20Awesome\x206\x20Free\x22','No\x20registrado','checkbox','administrador','draw.create','secundario','\x20aÃ±os',')\x22\x20style=\x22background:#6c757d;margin-top:5px;\x22><i\x20class=\x22fas\x20fa-times\x22></i>\x20Cancelar</button>','cursor','minzoom','input','jspdf','textBaseline','getZoom','eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZqZ2ZoYWd4ZXVoZ3NkaWVmcmlrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUyNDEwMDQsImV4cCI6MjA4MDgxNzAwNH0._PATt7qZTME_bv4VNshAU0FyOZaWYI0EwjC4V2qTUJs','body','Bs.\x20','active','setFont','âœ…\x20Estado\x20del\x20mapa\x20restaurado\x20desde\x20localStorage','top-right','setFeatureState','addEventListener','close','featureId','Red_2','fitBounds','position:\x20fixed;\x20top:\x200;\x20left:\x200;\x20width:\x20100%;\x20height:\x20100%;\x20background:\x20rgba(0,\x200,\x200,\x200.95);\x20z-index:\x2010000;\x20display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x20flex-direction:\x20column;\x20padding:\x2020px;\x20cursor:\x20zoom-out;\x20animation:\x20fadeIn\x200.3s\x20ease;','parentNode','getCanvas','#d1d5db','\x20\x20\x20âœ…\x20Campo\x20monto\x20en\x20bolivianos\x20agregado','replace','cobros','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-bottom:\x208px;\x20padding:\x208px\x200;\x20border-bottom:\x201px\x20solid\x20#e2e8f0;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20style=\x22color:\x20#001562;\x20font-size:\x2011px;\x20text-transform:\x20uppercase;\x20display:\x20flex;\x20align-items:\x20center;\x20gap:\x205px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-image\x22></i>\x20Nombre:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22color:\x20#334155;\x20font-size:\x2013px;\x20font-weight:\x20500;\x20margin-top:\x203px;\x22>','removeItem','label','\x20\x20\x20âœ…\x20Imagen\x20satelital\x203D\x20con\x20relieve','icon-opacity','cotas','includes','getTime','warn','geocoder-container','alt','draw.update','nuevo-cobro-modal','âš ï¸\x20Como\x20usuario\x20secundario,\x20solo\x20puedes\x20editar\x20lotes\x20que\x20estÃ¡n\x20DISPONIBLES.','ðŸ”‘\x20Campo\x20ID\x20detectado\x20para\x20','Error\x20al\x20actualizar:\x20','https://mt3.google.com/vt/lyrs=y&x={x}&y={y}&z={z}','zoom','#131513','Error\x20guardando\x20cobro:','rgba(255,\x20255,\x20255,\x200.2)','addSource','Mz\x20','<button\x20class=\x22popup-btn\x20popup-btn-secondary\x22\x20onclick=\x22window.abrirFormularioReporte(','dataset','âœ…\x20URL\x20de\x20Imgur\x20corregida:','fas\x20fa-map-marker-alt','<option\x20value=\x22\x22>No\x20hay\x20lotes\x20vendidos/reservados</option>','3357212cQeAlu','setZoom','URBANIZACIÃ“N:\x20','servicios','Error:\x20No\x20se\x20pudo\x20identificar\x20la\x20urbanizaciÃ³n','No\x20se\x20pudo\x20guardar\x20el\x20estado\x20del\x20mapa:','fillText','show','supm2','button','7176568YscLTY','N/A','#0000ff','precioContado','layer-item','measure-container','onclick','ðŸ“¸\x20Agregando\x20capa\x20de\x20Fotos\x20para\x20URB:\x20','&offset=','terrain-3d-layer','.jpg','setBearing','cobros-btn','icon-centro','form-precio-contado','ðŸ“\x20Agregando\x20capa\x20de\x20Centros...','parse','#000000','equipamiento','bearing','toBlob','No\x20se\x20encontraron\x20lotes','sidebar','<option\x20value=\x22','head','Error\x20cargando\x20lotes:','disabled','DISPONIBLE','hidden','writeFile','\x20\x20\x20âœ…\x20MÃ³dulo\x20de\x20cobros\x20con\x20historial','monto','color:\x20white;\x20font-size:\x2016px;\x20font-weight:\x20600;\x20margin-top:\x2015px;\x20text-align:\x20center;\x20text-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.5);','âš ï¸\x20Debes\x20iniciar\x20sesiÃ³n\x20para\x20exportar\x20a\x20Excel.\x0a\x0aHaz\x20clic\x20en\x20el\x20botÃ³n\x20de\x20usuario\x20para\x20iniciar\x20sesiÃ³n.','INFORMACIÃ“N\x20DEL\x20LOTE',')\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20Editar\x20Estado</button>','#3ac91d','export-excel-btn','block','center','stroke','camera-icon','concat','close-venta-modal','cota','long','foto','9cGzPIk','#6b7280','âš ï¸\x20No\x20se\x20encontrÃ³\x20el\x20registro\x20a\x20actualizar.','âŒ\x20URL\x20vacÃ­a\x20o\x20nula','\x20$us</div></div>','âœ…\x20Datos\x20locales\x20actualizados\x20en\x20urbData\x20(sin\x20datos\x20de\x20venta)','URB','filter','HTTP\x20error!\x20status:\x20','arc','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','Desarrollado\x20por\x20INGEOMATIC.TECH\x20Â©2026\x20-\x20Todos\x20los\x20derechos\x20reservados\x20-\x20CEL:\x2075211489','fotos','ðŸ“¤\x20Enviando\x20a\x20Supabase:','geoportal_user','RESERVADO','easeTo','classList','105SGxrXE','registrar-cobro-btn','bottom-right','extend','close-nuevo-cobro-modal','âœ…\x20URL\x20procesada:','form-Supm2','application/json','layer-rutas','âš ï¸\x20Por\x20favor\x20complete\x20todos\x20los\x20campos\x20obligatorios','\x20cargado\x20completamente:\x20','Arial\x20Unicode\x20MS\x20Bold','coordinates','removeChild','map-marker','dispatchEvent','close-info-modal','lotes','_Mz_','error','\x20\x20\x20âœ…\x20EdiciÃ³n\x20de\x20estados\x20y\x20generaciÃ³n\x20de\x20PDF','#ffd900','excel-modal','strokeStyle','book_append_sheet','sidebar-legend','Error\x20al\x20generar\x20Excel:\x20','value','user-logged','Mi\x20Cuenta','bold','push','internal','Bearer\x20','âœ…\x20PDF\x20generado\x20exitosamente!','trim','/rest/v1/lotes?urb=eq.','praderas','ðŸ“Š\x20URB\x20Data\x20agrupada:','icon-oficina','serviceWorker','\x20\x20\x20âœ…\x20Sistema\x20de\x20autenticaciÃ³n\x20implementado','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','GeolocateControl','style',')\x22><i\x20class=\x22fas\x20fa-save\x22></i>\x20Guardar</button>','âš ï¸\x20El\x20precio\x20de\x20venta\x20debe\x20ser\x20un\x20nÃºmero\x20mayor\x20a\x200','nom_cliente','textAlign','Campo\x20ID:','\x20seleccionado','display','abrirImagenPantallaCompleta','className','ScaleControl','\x27);\x20event.stopPropagation();\x22\x20style=\x22position:\x20absolute;\x20top:\x2010px;\x20right:\x2010px;\x20background:\x20rgba(0,0,0,0.7);\x20color:\x20white;\x20border:\x20none;\x20padding:\x208px\x2012px;\x20border-radius:\x206px;\x20cursor:\x20pointer;\x20font-size:\x2012px;\x20display:\x20none;\x20z-index:\x203;\x20transition:\x20all\x200.2s\x20ease;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-expand\x22></i>\x20Ampliar\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Cuota\x20Inicial:','â³\x20Generando\x20Excel...\x20Por\x20favor\x20espere.','option','change',')\x20es\x20mayor\x20al\x20saldo\x20pendiente\x20(Bs\x20','getItem','Precio\x20Total:','âœ…\x20URL\x20de\x20Imgur\x20vÃ¡lida:','keys','Imagen\x20Satelital','setFontSize',')\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Cotizar\x20Lote</button>','toLocaleString','getSource','WILLYEFER','rgba(255,\x20255,\x20255,\x200.3)','lote_gid','Mapa\x203D\x20con\x20Relieve','save','reporte-form','ðŸš€\x20Iniciando\x20carga\x20de\x20capas...','precio_lot','\x5c\x27\x20target=\x5c\x27_blank\x5c\x27\x20style=\x5c\x27color:#0ea5e9;\x20text-decoration:underline;\x20margin-top:5px;\x20display:inline-block;\x5c\x27>Abrir\x20imagen</a></div>\x27;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.abrirImagenPantallaCompleta(\x27','building','HEAD','145950xEnNMF','nro_factura','satellite-3d','fas\x20fa-globe-americas','\x20\x20\x20âœ…\x20Capa\x20de\x20fotos\x20con\x20imÃ¡genes\x20y\x20pantalla\x20completa','getBearing','innerHTML','geoportal_user_type','omitir-registro-btn','Tienes\x20acceso\x20completo\x20a\x20todas\x20las\x20funcionalidades\x20del\x20sistema.','nuevo-cobro-cuota','remove','LineString','Precio\x20Total\x20:','URB:','haloColor','350px','preventDefault','Error:\x20No\x20hay\x20cambio\x20de\x20estado\x20pendiente','@keyframes\x20fadeIn\x20{\x20from\x20{\x20opacity:\x200;\x20}\x20to\x20{\x20opacity:\x201;\x20}\x20}\x20@keyframes\x20fadeOut\x20{\x20from\x20{\x20opacity:\x201;\x20}\x20to\x20{\x20opacity:\x200;\x20}\x20}\x20@keyframes\x20zoomIn\x20{\x20from\x20{\x20transform:\x20scale(0.8);\x20opacity:\x200;\x20}\x20to\x20{\x20transform:\x20scale(1);\x20opacity:\x201;\x20}\x20}','jessica2002','createObjectURL','#ff0202','cancelarEdicion','venta-vendedor','Bs\x20','reservado','Iniciar\x20SesiÃ³n','2445237hydiRL','options','toDataURL','book_new','setLineWidth','\x27).style.display=\x27none\x27;\x20document.getElementById(\x27fullscreen-btn-','getAll','âœ…\x20Capas\x20cargadas\x20exitosamente','load','-fill','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:\x2013px;\x20color:\x20#64748b;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22margin:\x203px\x200;\x22><i\x20class=\x22fas\x20fa-calendar\x22></i>\x20','âœ…\x20Â¡Bienvenido\x20','Superficie:','Reporte_','fadeOut\x200.3s\x20ease','none','json_to_sheet','lote','https://mt1.google.com/vt/lyrs=y&x={x}&y={y}&z={z}','urb-excel-item','precio','âœ…\x20Mapa\x20actualizado\x20visualmente','close-cobros-modal','âŒ\x20Error\x20al\x20generar\x20el\x20PDF:\x20','normal','onAdd','login-form','venta-cliente','cuotaMensual','mouseleave','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:\x20100%;\x20min-height:\x20200px;\x20background:\x20#f1f5f9;\x20border-radius:\x208px;\x20margin-bottom:\x2010px;\x20position:\x20relative;\x20overflow:\x20hidden;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22photo-loading-','Estado:','oficina','visibility','mousemove','<p\x20style=\x22margin:\x203px\x200;\x22><i\x20class=\x22fas\x20fa-receipt\x22></i>\x20Factura:\x20','cel_cliente','getContext','\x20\x20\x20âœ…\x20Fotos\x20en\x20centros\x20con\x20mismo\x20sistema\x20de\x20iconos','get','boolean','</p>','return=representation','onmouseout','addImage','canvas','cuotaInicial','render','downcase','.pdf','urb','close-sidebar','lineWidth','beforeunload','message','no-cache','loaded','draw.delete','âš ï¸\x20Este\x20lote\x20no\x20estÃ¡\x20disponible\x20para\x20cobros.\x0aDebe\x20ser\x20un\x20lote\x20VENDIDO\x20o\x20RESERVADO\x20de\x20la\x20urbanizaciÃ³n\x20seleccionada.','-line','rect','venta-form','setFillColor','geoportal_map_state','haloWidth','No\x20se\x20pudo\x20cargar\x20el\x20icono\x20','0.3','right','close-reporte-modal','icon-','venta-modal','div','hasImage','Polygon','toFixed','timestamp','middle','NavigationControl','checked','Sin\x20registro','click','reduce','Open\x20Sans\x20Bold','ðŸ”\x20Procesando\x20URL:','=eq.','user-modal','\x27,\x20\x27','status','setCenter','cobros-lote-buscar','nuevo-cobro-form','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22padding:\x2015px;\x20background:\x20#f8fafc;\x20border-left:\x204px\x20solid\x20var(--primary-color);\x20border-radius:\x208px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20justify-content:\x20space-between;\x20align-items:\x20start;\x20margin-bottom:\x208px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style=\x22font-weight:\x20600;\x20color:\x20var(--primary-color);\x22>Cuota\x20#','key','cancelar-seleccion-mapa-btn','\x27).innerHTML=\x27<div\x20style=\x5c\x27background:#fee2e2;\x20padding:15px;\x20border-radius:8px;\x20color:#dc2626;\x20font-size:12px;\x20text-align:center;\x5c\x27><i\x20class=\x5c\x27fas\x20fa-exclamation-triangle\x5c\x27></i><br><strong>Error\x20al\x20cargar</strong><br><small>Verifica\x20la\x20URL</small><br><a\x20href=\x5c\x27','terrain-3d','scale(1)','hillshade','raster','Error:\x20No\x20se\x20encontrÃ³\x20el\x20lote','mouseenter','nro_cuota','target','fillOpacity','to-string','Manzano:','veredas','!cols','DESCRIPCION','nombre','\x0aRegistros:\x20','close-excel-modal','jumpTo','âœ…\x20Estado\x20actualizado\x20exitosamente','transporte','&select=lote,manzano,estado,supm2,precio_lot,vendedor,tipo_venta,cel_cliente,precio_vent,nom_cliente&limit=','gid','TIPO','fas\x20fa-satellite','form-plazo-anos','estado','catch','imgur.com','cobros-modal','stopPropagation','utils','Usuario:\x20','Error\x20capturando\x20miniatura:','submit','<i\x20class=\x22fas\x20fa-times\x22></i>\x20Cerrar','</div></div>','<div\x20class=\x22popup-field\x22><strong>SUPERFICIE:</strong><div\x20class=\x22value\x22>','baseLayer','plazoAnos','login-error','NOMBRE','map','rutas-line','/rest/v1/lotes?','iconSize','fotos-','Puedes\x20cambiar\x20lotes\x20DISPONIBLES\x20a\x20RESERVADOS\x20Ãºnicamente.','Sin\x20cliente'];_0x3f36=function(){return _0x24e176;};return _0x3f36();}document[_0x1b67b7(0x19b)](_0x1b67b7(0x327))[_0x1b67b7(0x1ee)](_0x1b67b7(0x1e2),_0x172403=>{const _0x160c16=_0x1b67b7,_0x3c5231=_0x172403['target'][_0x160c16(0x27c)]['toLowerCase']()[_0x160c16(0x284)]();if(!_0x3c5231){renderizarListaLotes(lotesDisponiblesParaCobro);return;}const _0x3f8cda=lotesDisponiblesParaCobro[_0x160c16(0x256)](_0x280dc5=>{const _0x15cf59=_0x160c16,_0x12d7dd=_0x280dc5[_0x15cf59(0x2df)][_0x15cf59(0x364)]()['toLowerCase'](),_0x10b035=_0x280dc5[_0x15cf59(0x1c0)]?_0x280dc5['manzano'][_0x15cf59(0x364)]()[_0x15cf59(0x3a9)]():'',_0x262f81=(_0x280dc5['nom_cliente']||'')[_0x15cf59(0x3a9)]();return _0x12d7dd[_0x15cf59(0x200)](_0x3c5231)||_0x10b035['includes'](_0x3c5231)||_0x262f81['includes'](_0x3c5231);});renderizarListaLotes(_0x3f8cda);}),document[_0x1b67b7(0x19b)]('seleccionar-desde-mapa-btn')['addEventListener'](_0x1b67b7(0x31e),()=>{const _0x197793=_0x1b67b7;modoSeleccionMapa=!![],document[_0x197793(0x19b)]('seleccionar-desde-mapa-btn')[_0x197793(0x28d)]['display']=_0x197793(0x2dd),document[_0x197793(0x19b)]('cancelar-seleccion-mapa-btn')[_0x197793(0x28d)][_0x197793(0x294)]=_0x197793(0x246),document['getElementById'](_0x197793(0x349))[_0x197793(0x28d)][_0x197793(0x3be)]=_0x197793(0x310),document[_0x197793(0x19b)](_0x197793(0x349))[_0x197793(0x28d)][_0x197793(0x17f)]=_0x197793(0x2dd),map['getCanvas']()[_0x197793(0x28d)][_0x197793(0x1e0)]=_0x197793(0x193),alert('ðŸŽ¯\x20Haga\x20clic\x20en\x20el\x20lote\x20que\x20desea\x20seleccionar\x20en\x20el\x20mapa');}),document['getElementById'](_0x1b67b7(0x32b))[_0x1b67b7(0x1ee)](_0x1b67b7(0x31e),()=>{desactivarModoSeleccionMapa();});function desactivarModoSeleccionMapa(){const _0x50d117=_0x1b67b7;modoSeleccionMapa=![],document[_0x50d117(0x19b)](_0x50d117(0x134))['style'][_0x50d117(0x294)]=_0x50d117(0x246),document[_0x50d117(0x19b)]('cancelar-seleccion-mapa-btn')[_0x50d117(0x28d)][_0x50d117(0x294)]=_0x50d117(0x2dd),document[_0x50d117(0x19b)]('cobros-modal')['style']['opacity']='1',document[_0x50d117(0x19b)](_0x50d117(0x349))['style'][_0x50d117(0x17f)]=_0x50d117(0x172),map['getCanvas']()[_0x50d117(0x28d)][_0x50d117(0x1e0)]='';}function _0x405f(_0x320e69,_0x4f3e79){_0x320e69=_0x320e69-0x12b;const _0x3f362f=_0x3f36();let _0x405f42=_0x3f362f[_0x320e69];return _0x405f42;}document['getElementById']('registrar-cobro-btn')['addEventListener']('click',()=>{const _0x2ab3d4=_0x1b67b7,_0x49b631=cobrosDelLote[_0x2ab3d4(0x36f)]+0x1;document[_0x2ab3d4(0x19b)](_0x2ab3d4(0x2bc))['value']=_0x49b631;const _0x2aeed1=new Date()[_0x2ab3d4(0x16c)]()[_0x2ab3d4(0x1d6)]('T')[0x0];document['getElementById'](_0x2ab3d4(0x19f))['value']=_0x2aeed1,document[_0x2ab3d4(0x19b)](_0x2ab3d4(0x206))[_0x2ab3d4(0x28d)][_0x2ab3d4(0x294)]=_0x2ab3d4(0x1b1);}),document[_0x1b67b7(0x19b)](_0x1b67b7(0x265))['addEventListener'](_0x1b67b7(0x31e),()=>{const _0x50e453=_0x1b67b7;document['getElementById']('nuevo-cobro-modal')['style'][_0x50e453(0x294)]='none',document['getElementById'](_0x50e453(0x328))[_0x50e453(0x1b8)]();}),document[_0x1b67b7(0x19b)]('nuevo-cobro-form')[_0x1b67b7(0x1ee)]('submit',async _0x45dad8=>{const _0xc5edb6=_0x1b67b7;_0x45dad8[_0xc5edb6(0x2c3)]();const _0x61f3ca=parseFloat(document[_0xc5edb6(0x19b)]('nuevo-cobro-monto')[_0xc5edb6(0x27c)]),_0x365d13=document[_0xc5edb6(0x19b)]('nuevo-cobro-fecha')[_0xc5edb6(0x27c)],_0x24a367=document[_0xc5edb6(0x19b)]('nuevo-cobro-factura')[_0xc5edb6(0x27c)],_0x22f8e9=parseInt(document[_0xc5edb6(0x19b)](_0xc5edb6(0x2bc))['value']),_0x2df418=parseFloat(loteSeleccionadoCobro[_0xc5edb6(0x18f)]||0x0),_0x2ec245=cobrosDelLote[_0xc5edb6(0x31f)]((_0x60804c,_0x4ce1f0)=>_0x60804c+parseFloat(_0x4ce1f0[_0xc5edb6(0x23f)]),0x0),_0x327e55=_0x2df418-_0x2ec245;if(_0x61f3ca>_0x327e55&&_0x327e55>0x0){if(!confirm('El\x20monto\x20ingresado\x20(Bs\x20'+_0x61f3ca[_0xc5edb6(0x318)](0x2)+_0xc5edb6(0x29d)+_0x327e55['toFixed'](0x2)+_0xc5edb6(0x37f)))return;}try{const _0x32066e=document[_0xc5edb6(0x19b)](_0xc5edb6(0x1c8))[_0xc5edb6(0x27c)],{data:_0x1a98da,error:_0x1f15c1}=await supabaseClient['from'](_0xc5edb6(0x1f9))['insert']([{'lote_gid':loteSeleccionadoCobro[_0xc5edb6(0x342)],'urb':_0x32066e,'lote':loteSeleccionadoCobro[_0xc5edb6(0x2df)],'monto':_0x61f3ca,'fecha_cobro':new Date(_0x365d13)['toISOString'](),'nro_factura':_0x24a367||null,'nro_cuota':_0x22f8e9,'usuario':currentUsername}])[_0xc5edb6(0x1cc)]();if(_0x1f15c1)throw _0x1f15c1;alert('âœ…\x20Cobro\x20registrado\x20exitosamente'),document[_0xc5edb6(0x19b)](_0xc5edb6(0x206))[_0xc5edb6(0x28d)][_0xc5edb6(0x294)]=_0xc5edb6(0x2dd),document[_0xc5edb6(0x19b)](_0xc5edb6(0x328))[_0xc5edb6(0x1b8)](),await cargarHistorialCobros(loteSeleccionadoCobro['gid']);}catch(_0x4c7aac){console[_0xc5edb6(0x274)](_0xc5edb6(0x20d),_0x4c7aac),alert('âŒ\x20Error\x20al\x20registrar\x20el\x20cobro:\x20'+_0x4c7aac[_0xc5edb6(0x304)]);}}),console[_0x1b67b7(0x386)]('ðŸ—ºï¸\x20Geoportal\x20inicializado'),console[_0x1b67b7(0x386)](_0x1b67b7(0x366)),console[_0x1b67b7(0x386)]('\x20\x20\x20âœ…\x20VisualizaciÃ³n\x203D\x20con\x20relieve\x20del\x20terreno'),console['log'](_0x1b67b7(0x1fd)),console[_0x1b67b7(0x386)](_0x1b67b7(0x2b6)),console['log']('\x20\x20\x20âœ…\x20Fotos\x20en\x20centros\x20con\x20popups'),console['log']('\x20\x20\x20âœ…\x20Sistema\x20de\x20autenticaciÃ³n'),console['log'](_0x1b67b7(0x275)),console[_0x1b67b7(0x386)](_0x1b67b7(0x195)),console[_0x1b67b7(0x386)](_0x1b67b7(0x23e)),console[_0x1b67b7(0x386)]('\x20\x20\x20âœ…\x20PrevenciÃ³n\x20de\x20descarga\x20en\x20mÃ³vil'),console[_0x1b67b7(0x386)]('\x20\x20\x20âœ…\x20Persistencia\x20de\x20estado\x20del\x20mapa'),console[_0x1b67b7(0x386)]('\x20\x20\x20âœ…\x20Todos\x20los\x20errores\x20corregidos');
